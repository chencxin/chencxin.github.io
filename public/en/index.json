[
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/app/oauto2/",
	"title": "Oauto2",
	"tags": [],
	"description": "oauth2 认证",
	"content": "一、是什么 OAuth（开放授权）是一个开放标准（框架），允许用户授权第三方移动应用访问他们存储在另外的服务提供者上的信息，而不需要将用户名和密码提供给第三方移动应用或分享他们数据的所有内容\n用于第三方应用授权登录\n二、授权流程  开发者注册 oauth2.0 客户端，或得客户端id和客户端秘钥 应用前端要求用户提供授权信息用来访问用户的数据； 用户被重定向到授权登录服务； 授权登录服务通过后，授权服务将授权后的token,重定向到前端服务； 应用收到token后，通过token请求用户数据，完成验证；  三、授权方式  授权码（authorization-code） 隐藏式（implicit） 密码式（password）： 客户端凭证（client credentials）  1、授权码 授权码（authorization code）方式，指的是第三方应用先申请一个授权码，然后再用该码获取令牌。\n用于前后端分离\n2、隐藏式 允许直接向前端颁发令牌。这种方式没有授权码这个中间步骤，所以称为（授权码）\u0026ldquo;隐藏式\u0026rdquo;（implicit）\n用于单前端应用\n3、密码式 如果你高度信任某个应用，RFC 6749 也允许用户把用户名和密码，直接告诉该应用。该应用就使用你的密码，申请令牌，这种方式称为\u0026quot;密码式\u0026quot;（password）\n4、凭证式 适用于没有前端的命令行应用，即在命令行下请求令牌\n三、重要概念 1、 OAuth 2.0 Scope\n客户端请求授权中有一个scope字段，用来做Internal access control (RBAC, ACL, etc) 内部访问控制。用来限制此次授权，客户端可以访问的资源。\n2、OAuth 2.0 Refresh Tokens\n请求参数response_type=code，用于更新token\n四、详细 请求授权码：\nGET /authorize?response_type=code\u0026amp;client_id=s6BhdRkqt3\u0026amp;state=xyz \u0026amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb HTTP/1.1 Host: server.example.com  response_type：表示授权类型，必选项，code/ token / password / client_id：表示客户端的ID，必选项 redirect_uri：表示重定向URI，可选项 scope：表示申请的权限范围，可选项 state：表示客户端的当前状态，可以指定任意值，认证服务器会原封不动地返回这个值。  用授权码获取token：\nPOST /token HTTP/1.1 Host: server.example.com Authorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW Content-Type: application/x-www-form-urlencoded grant_type=refresh_token\u0026amp;refresh_token=tGzv3JOkF0XG5Qx2TlKWIA 参数：\n granttype：表示使用的授权模式，此处的值固定为\u0026quot;refreshtoken\u0026quot;，必选项。 refresh_token：表示早前收到的更新令牌，必选项。 scope：表示申请的授权范围，不可以超出上一次申请的范围，如果省略该参数，则表示与上一次一致。  "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/ubuntu/virtual-window/",
	"title": "虚拟桌面",
	"tags": [],
	"description": "虚拟桌面，用于vnc远程分ubuntu桌面",
	"content": "ubuntu20安装虚拟显示器 1、安装软件 sudo apt-get install xserver-xorg-core-hwe-18.04 sudo apt-get install xserver-xorg-video-dummy 2、编写配置文件 sudo vi /usr/share/X11/xorg.conf.d/xorg.conf Section \u0026#34;Monitor\u0026#34; Identifier \u0026#34;Monitor0\u0026#34; HorizSync 28.0-80.0 VertRefresh 48.0-75.0 # https://arachnoid.com/modelines/ # 1920x1080 @ 60.00 Hz (GTF) hsync: 67.08 kHz; pclk: 172.80 MHz Modeline \u0026#34;1920x1080_60.00\u0026#34; 172.80 1920 2040 2248 2576 1080 1081 1084 1118 -HSync +Vsync EndSection Section \u0026#34;Device\u0026#34; Identifier \u0026#34;Card0\u0026#34; Driver \u0026#34;dummy\u0026#34; VideoRam 256000 EndSection Section \u0026#34;Screen\u0026#34; DefaultDepth 24 Identifier \u0026#34;Screen0\u0026#34; Device \u0026#34;Card0\u0026#34; Monitor \u0026#34;Monitor0\u0026#34; SubSection \u0026#34;Display\u0026#34; Depth 24 Modes \u0026#34;1920x1080_60.00\u0026#34; EndSubSection EndSection 重启系统将使用虚拟桌面，此时使用显示器时输入密码后不会有显示了\n只需将以上配置文件进行备份即可\n显示器显示后不要输入密码 按住 ctl + alt + f6进入命令行终端\ncd /usr/share/X11/xorg.conf.d/ sudo mv xorg.conf xorg.conf.bak sudo reboot "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/cncf/k8s/private-registry/",
	"title": "私有镜像仓库",
	"tags": [],
	"description": "镜像拉取私有镜像仓库",
	"content": "1、创建 SERVER=hub.dns.360.cn USER=dns EMAIL=yinqiwei@360.cn PW=xxxxxxxx kubectl create secret docker-registry regcred \\  --docker-server=$SERVER \\  --docker-username=$USER \\  --docker-password=$PW \\  --docker-email=$EMAIL 或者从文件创建：\nkubectl create secret generic regcred --from-file=.dockerconfigjson=/home/yinqiwei/.docker/config.json --type=kubernetes.io/dockerconfigjson 查看：\nkubectl get secret regcred --output=yaml 2、应用 添加secret到serviceaccount:\nkubectl patch serviceaccount default -p \u0026#39;{\u0026#34;imagePullSecrets\u0026#34;: [{\u0026#34;name\u0026#34;: \u0026#34;regcred\u0026#34;}]}\u0026#39; 添加到默认的sa后整个namespace将默认有拉取权限，pod默认使用sa 是default\n针对单个pod也能添加：\napiVersion: v1 kind: Pod metadata: name: private-reg spec: containers: - name: private-reg-container image: \u0026lt;your-private-image\u0026gt; imagePullSecrets: - name: regcred "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/cncf/k8s/",
	"title": "K8S",
	"tags": [],
	"description": "k8s",
	"content": "内容：  私有镜像仓库  镜像拉取私有镜像仓库\n "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/cncf/project-list/",
	"title": "项目列表",
	"tags": [],
	"description": "CNCF项目描述",
	"content": "一、Graduated 毕业项目\n1、containerd 项目地址 CNI插件\n2、CoreDNS 项目地址 域名解析\n3、Envoy 项目地址 网络流量代理，c++实现，高性能 L7 层代理 支持 L3/4 protocol istio依赖envoy代理\n4、 etcd 项目地址 k/v 存储\n5、Fluentd 项目地址 Fluentd is an open source data collector, which lets you unify the data collection and consumption for a better use and understanding of data\nUnified Logging with JSON 基于json的统一日志框架，支持超过125个系统的log信息收集 底层是C和CRuby编写\n支持多源日志数据收集，多端日志存储es,kafka,s3,prometheus等\n比较： 比logstash 更快，但低于filebeat 插件数量与logstash相当，比filebeat丰富 插件基于lua编写，快速实现，但性能可能不如意 fluentd-bit更快的日志收集，但是插件数量少\n6、Harbor 项目地址 镜像仓库\n7、Helm 项目地址 安装包管理\n8、Jaeger 项目地址 end-to-end distributed tracing Monitor and troubleshoot transactions in complex distributed systems 端到端的分布式追踪系统 复杂系统的监控和和事务处理\n功能： Monitor， Performance Tuning ，Troubleshooting\n监控，性能调优，故障分析\n9、Kubernetes 项目地址 k8s\n10、Open Policy Agent 项目地址 opa\nPolicy-based control for cloud native environments Flexible, fine-grained control for administrators across the stack\n云原生策略控制，通用，安全的管理控制栈\nRego语音策略编辑，策略查询\n11、Prometheus 项目地址 监控报警，时序数据库\n12、Rook 项目地址 support for a diverse set of storage solutions to natively integrate with cloud-native environments 云存储，基于ceph,cassanda等的云存储系统；\n将支持更多数据库\n13、TiKV 项目地址 分布式kv存储，支持大数据存储 基于Google Spanner and HBase，管理简单\n14、TUF 项目地址 A framework for securing software update systems\n软件安全更新\n15、 Vitess 项目地址 A database clustering system for horizontal scaling of MySQL\n没错，集群化管理的mysql数据库也有了\n二、Incubating 孵化项目\n1、Argo 项目地址 open source Kubernetes native workflows, events, CI and CD\nk8s 工作流\n支持ci/cd 支持任务依赖\n可自由编辑任务执行流程，基于docker执行任务 目前大量用于github的机器学习任务\n2、Buildpacks 项目地址 transform your application source code into images that can run on any cloud.\n构建你的项目，让其可以运行在任意的云环境。\n不同于dockerfile的另一套构建配置方案\n3、CloudEvents 项目地址 A specification for describing event data in a common way\n通用标准事件数据分发 事件分发和接收通用标准\n格式支持： amq,kafka,http,json,websocket,pb等\n使用方式： SDK接入\n4、CNI 项目地址 容器网络接口 标准\n5、Contour 项目地址 High performance ingress controller for Kubernetes\ningress控制器 providing the control plane for the Envoy edge and service proxy.\n管理envoy和service proxy\n依赖envoy作为代理\n6、Cortex 项目地址 A horizontally scalable, highly available, multi-tenant, long term Prometheus\n高可用，可伸缩，多租户，持久存储的prometheus监控报警平台\nprometheus数据分片\n7、 CRI-O 项目地址 Container Runtime 容器运行时\n8、Dragonfly 项目地址 An Open-source P2P-based Image and File Distribution System\n基于p2p的镜像和文件分发系统\n针对大规模集群，快速文件和镜像传输；最大化网络带宽资源；\n9、Falco 项目地址 runtime security project， Kubernetes threat detection engine\n容器运行时安全项目 k8s威胁检查系统\n10、gRPC 项目地址 google rpc框架，高性能\ngoogle出品，必属精品\n11、KubeEdge 项目地址 open source system for extending native containerized application orchestration capabilities to hosts at Edge\n将k8s的编排能力扩展到边缘节点 支持边缘计算\n12、Linkerd 项目地址 服务网格 service mesh Ultra light, ultra simple, ultra powerful. 超轻量，超简单，超牛逼\n微服务基础设施\n支持特性：\n Automatic mTLS. 服务访问自动tls Automatic Proxy Injection. 自动代理注入 CNI Plugin. cni插件 Dashboard and Grafana. 管理和监控 Distributed Tracing. 分布式追踪 Fault Injection. 故障注入 High Availability. 高可用 HTTP, HTTP/2, and gRPC Proxying. 代理 Ingress. 网关 Load Balancing. 负载均衡 Multi-cluster communication. 多集群支持 Retries and Timeouts. 重试和超时 Service Profiles. 服务描述 TCP Proxying and Protocol Detection. 代理 Telemetry and Monitoring. 观测和监控 Traffic Split (canaries, blue/green deploys). 流量切分  13、NATS 项目地址 分布式系统两种模式 two basic patterns\n request/reply or RPC for services 请求 event and data streams 事件  messaging system 消息系统 NATS is simple and secure messaging made for developers and operators who want to spend more time developing modern applications and services than worrying about a distributed communication system\n Easy 单纯 High-Performance 可靠 Always on and available 老实人 Extremely lightweight 骨瘦如柴 At Most Once and At Least Once Delivery 一次性执着 Support for Observable and Scalable Services and Event/Data Streams 可观测 Client support for over 30 different programming languages 友善 Cloud Native, a CNCF project with Kubernetes and Prometheus integrations k8s，prometheus亲和  对比: 分发性能是kafka的两倍\nNATS理想的使用场景有：\n1）寻址、发现 2）命令和控制（控制面板） 3）负载均衡 4）多路可伸缩能力 5）定位透明 6）容错  　NATS设计哲学认为，高质量的QoS应该在客户端构建，故只建立了请求-应答，不提供：\n1）持久化 2）事务处理 3）增强的交付模式 4）企业级队列  14、Notary 项目地址 网络安全\n15、OpenTracing 项目地址 Distributed Tracing API 分布式追踪API\n追踪标准\n16、Operator Framework 项目地址 open source toolkit to manage Kubernetes native applications, called Operators, in an effective, automated, and scalable way.\n开源工具集，用来管理k8s应用，有效，自动，可扩展。\n17、SPIRE 项目地址 A universal identity control plane for distributed systems\n分布式系统统一健全控制框架\n18、Thanos 项目地址 highly available Prometheus setup with long term storage capabilities.\n高可用，持久存储prometheus.\n三、sandbox 沙盒项目\n1、Athenz 项目地址 描述： supporting service authentication and role-based authorization (RBAC) for provisioning and configuration (centralized authorization) use cases as well as serving/runtime (decentralized authorization) use cases\n使用X.509 支持应用权限验证 应用之间的短期，证书验证，支持rbac权限验证\n使用： API调用，SDK接入\n2、Artifact Hub 项目地址 Find, install and publish Kubernetes packages\nk8s package管理\n包括： helm包，opa policy,kubectl plugin, operator等\n3、Backstage 项目地址 An open platform for building developer portals unifies all your infrastructure tooling, services, and documentation to create a streamlined development environment from end to end\n管理基础设施工具，服务，稳定，提供一条龙服务\n使用：\n部署即可使用，特殊需要需要自己开发插件、nodejs实现\n4、BFE 项目地址 A modern layer 7 load balancer\n网络七层负载均衡\n来自百度\n对比nginx优点： 多种协议支持HTTP, HTTPS, SPDY, HTTP2, WebSocket, TLS, FastCGI, etc 多种策略支持 自定义开发支持 详细的metrics\n使用： 二进制安装或者docker安装都行，需要自己配置策略和代理\n5、Brigade 项目地址 Brigade is a tool for running scriptable, automated tasks in the cloud — as part of your Kubernetes cluster.\nk8s的事件驱动脚本\nargo相似不相像\n6、cert-manager 项目地址 无介绍\n7、Chaos Mesh 项目地址 用于Kubernetes的云原生混沌工程平台\n随机故障注入，快速验证系统的健壮性\n8、ChubaoFS 项目地址 储宝文件系统 in Chinese\ncloud-native storage platform that provides both POSIX-compliant and S3-compatible interfaces.\n提供POSIX标准和s3标准接口\n9、Cloud Custodian 项目地址 公有云安全管理，绑定了一沓子工具包\nyaml DSL描述规则\n10、Cloud Development Kit for Kubernetes (cdk8s) 项目地址 CDK8s is a software development framework for defining Kubernetes applications and reusable abstractions using familiar programming languages and rich object-oriented APIs\n一个软件开发框架，可以用你熟悉的语言来看房k8s应用\n提供 nodejs,python,java sdk\n和Pulumi k8s运维部分有点像\n11、CNI-Genie 项目地址 单节点多CNI支持\n大而不僵？\n12、Crossplane 项目地址 open source Kubernetes add-on that extends any cluster with the ability to provision and manage cloud infrastructure, services, and applications using kubectl, GitOps, or any tool that works with the Kubernetes API\nk8s扩展，管理云基础设施，服务，应用。使用kubectl,gitops或者任何其他工具。\n运维管理\n13、Curiefense 项目地址 an API-first, DevOps oriented web-defense HTTP-Filter adapter for Envoy. It provides multiple security technologies (WAF, application-layer DDoS protection, bot management, and more) along with real-time traffic monitoring and transparency.\n一个基于envoy，提供api优先，devops导向，web防护，http过滤适配。 提供多种安全技术，waf(网站应用级入侵防御),DDoS防护等\n14、Dex 项目地址 OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0 protocol 一个简单的鉴权层，基于OAuth2.0。\nDex is an identity service that uses OpenID Connect to drive authentication for other apps. 基于 OpenID Connect提供鉴权服务。\n15、Distribution 项目地址 This repository\u0026rsquo;s main product is the Open Source Registry implementation for storing and distributing container images using the OCI Distribution Specification.\n开源镜像仓库\n16、Flux 项目地址 gitops 自动化部署\n17、GitOps Working Group 18、in-toto 项目地址 A software supply chain is the series of steps performed when writing, testing, packaging, and distributing software.\n软件供应链安全框架， 包括编写，测试，打包，分发软件。\n19、k3s 项目地址 轻量级k8s\n20、k8dash 项目地址 dashboard\nhelps you visually understand the concepts of your cluster\n帮助你生动的理解你的集群。\n管理你的集群\n21、KEDA 项目地址 Kubernetes Event-driven Autoscaling\n自扩容k8s事件驱动。\n支持 kafka,rmq,redis,mysql,pg等\n22、Keptn 项目地址 a control-plane for DevOps automation of cloud-native applications.\n云原生应用自动化运维控制平面。\n23、Keylime 项目地址 a highly scaleable remote boot attestation and runtime integrity measurement solution.\n一个高度可扩展的远程启动认证和运行时完整性测量解决方案。\n应用基础设施监控\n24、Kube-OVN 项目地址 企业级k8s网络\n25、KubeVirt 项目地址 A VirtualMachine provides additional management capabilities to a VirtualMachineInstance inside the cluster.\nvm operator，扩展k8s功能，将应用部署到虚拟机 这就很牛逼\n26、KUDO 项目地址 Kubernetes Universal Declarative Operator (KUDO) provides a declarative approach to building production-grade Kubernetes operators.\nk8s 通用描述operator，使用描述性方法构建k8s operator.\nWorkload Orchestration\n27、Kuma 项目地址 a modern distributed Control Plane with a bundled Envoy Proxy integration\nenvory proxy的分布式控制平面。\nservice mesh管理\n28、Kyverno 项目地址 k8s集群策略控制 使用 validating and mutating admission webhook HTTP callbacks\n29、LitmusChaos 项目地址 Chaos Engineering for your Kubernetes\nk8s混沌工程\n30、Longhorn 项目地址 云存储\na lightweight, reliable, and powerful distributed block storage system for Kubernetes.\n轻量，可靠，强大的分布式块存储。 挺牛逼的\n31、metal3-io 项目地址 集群物理机管理\n32、Network Service Mesh 项目地址 Hybrid/Multi-cloud IP Service Mesh\n混合/多云 ip 服务网格\n33、Open Service Mesh 项目地址 轻量级服务网格\n34、OpenEBS 项目地址 基于 Go 的容器化块存储\n开源，可视化很好\n缺点： 不成熟\n35、OpenMetrics 项目地址 OpenMetrics a specification built upon and carefully extending Prometheus exposition format in almost 100% backwards-compatible ways.\n兼容 prometheus metrics\nPrometheus的监控数据采集方案\n36、OpenTelemetry 项目地址 OpenTelemetry is a set of APIs, SDKs, tooling and integrations that are designed for the creation and management of telemetry data such as traces, metrics, and logs.\n提供api，sdk,tool，创建管理应用的数据: traces, metrics, and logs\n37、OpenYurt 项目地址 边缘计算\n38、Piraeus-Datastore 项目地址 Local Persistent Volumes 本地持久存储\n39、Porter 项目地址 package your application artifact, client tools, configuration and deployment logic together as a versioned bundle that you can distribute, and then install with a single command.\n打包应用、工具、配置、部署逻辑到一个版本化得包，让你可以发布和一键安装。\n40、SchemaHero 项目地址 数据库迁移\n41、Serverless Workflow Specification 项目地址 无状态工作流\n42、Service Mesh Interface 项目地址 服务网格标准\n43、Strimzi 项目地址 kafka operator\n快速部署kafka集群\n44、Telepresence 项目地址 应用部署工具\n45、Tremor 项目地址 https://www.tremor.rs/\n事件处理 Tremor is an early stage event processing system for unstructured data with rich support for structural pattern matching, filtering and transformation.\n事件处理过滤分发\n46、Virtual Kubelet 项目地址 虚拟的kubelet\n47、Volcano 项目地址 https://github.com/volcano-sh/volcano\n高性能任务调度引擎 源自于华为云 AI 容器。Volcano 方便 AI、大数据、基因、渲染等诸多行业通用计算框架接入，提供高性能任务调度引擎，高性能异构芯片管理，高性能任务运行管理等能力。\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/cncf/",
	"title": "云原生",
	"tags": [],
	"description": "云原生相关项目，不止云原生",
	"content": "内容：  K8S  k8s\n 项目列表  CNCF项目描述\n 使用  使用说明\n Metallb  description\n Calico bgp  calico bgp 配置\n "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/dns/box/k3s-install/",
	"title": "k3s版本安装",
	"tags": [],
	"description": "2.7以上，使用k3s安装",
	"content": "k3s盒子产品安装指南 当前本地虚拟机安装测试完成。\n1、安装环境依赖 即你执行命令的环境，支持 mac 和 linux 环境。如果你是 windows 系统，请使用虚拟机安装 linux。\n软件依赖：\n python3 (sudo apt install python3 python3-pip) docker make sshpass  安装环境需要在公司内网环境，因为需要下载安装镜像！ 确认docker已经启动！\n请确保执行 git submodule 命令！\ngit clone git@w.src.corp.qihoo.net:dns/pandora.git git submodule update --init proto ls proto 查看下 proto 文件是否有内容！\n使用下面命令测试：\ndocker ps make python -c \u0026#34;print(\u0026#39;hello\u0026#39;)\u0026#34; 2、安装步骤 查看命令帮助文档\nmake 2.1、进入安装环境 make k3s 2.2、 安装 查看当前环境的命令帮助文档\nmake 初始化参数：\nmake gen 生成的参数在 inventories/gen/host_vars/\u0026lt;host\u0026gt;.yml 测试请自行修改使用到的镜像。\n注意：\n 安装分为两种方式： 1、分步安装、2、一步安装；分布安装会逐步安装依赖，一步安装会将所有依赖一起安装；一步安装中间如果报错，修复错误问题后，可使用分步安装从报错步骤开始往后安装。\n 一、分步安装\n分别执行下面命令：\n不要跳步执行！\n# 初始化机器yum kernel等 make install-machine # 初始化网络 磁盘 make install-prepare-machine # 下载镜像 请确认docker运行中 注意： 若安装机器有网，且镜像源为外网，可跳过这不执行 make install-prepare-image # 安装k3s make install-k3s # 安装 node exporter make install-exporter # 安装 dns应用 make install-dns # 初始化数据 make install-data 二、一步安装\n将执行上面分步安装的所有 task！\n执行下面命令：\nmake install-all 注意：\n由于项目进度问题，目前 license 初始化接口尚未完成，请联系对应同学手动初始化！！！\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/dns/box/",
	"title": "盒子部署",
	"tags": [],
	"description": "部署相关",
	"content": "内容：  k3s版本安装  2.7以上，使用k3s安装\n 发展  发展\n 鲲鹏  鲲鹏机器\n 讨论  讨论区\n 海光麒麟机器安装  海光麒麟机器安装\n 本脑安装  本地安全大脑安装\n "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/app/oidc/",
	"title": "openid connect",
	"tags": [],
	"description": "openid connect 基于oauth2的鉴权认证标准",
	"content": "一、是什么？ OIDC=(Identity, Authentication) + OAuth 2.0。它在OAuth2上构建了一个身份层，是一个基于OAuth2协议的身份认证标准协议。\n解决认证问题。\nOIDC在OAuth2的access_token的基础上增加了身份认证信息， 通过公钥私钥配合校验获取身份等其他信息—– 即idToken\n二、原理 1、术语：  EU：End User：一个人类用户。 RP：Relying Party ,用来代指OAuth2中的受信任的客户端，身份认证和授权信息的消费方； OP：OpenID Provider，有能力提供EU认证的服务（比如OAuth2中的授权服务），用来为RP提供EU的身份认证信息； ID Token：JWT格式的数据，包含EU身份认证的信息。 UserInfo Endpoint：用户信息接口（受OAuth2保护），当RP使用Access Token访问时，返回授权用户的信息，此接口必须使用HTTPS。 返回EU的Claims。  2、ID Token ID Token是一个安全令牌，是一个授权服务器提供的包含用户信息（由一组Cliams构成以及其他辅助的Cliams）的JWT格式的数据结构。ID Token的主要构成部分如下（使用OAuth2流程的OIDC）\n iss = Issuer Identifier：必须。提供认证信息者的唯一标识。一般是一个https的url（不包含querystring和fragment部分）。 sub = Subject Identifier：必须。iss提供的EU的标识，在iss范围内唯一。它会被RP用来标识唯一的用户。最长为255个ASCII个字符。 aud = Audience(s)：必须。标识ID Token的受众。必须包含OAuth2的client_id。 exp = Expiration time：必须。过期时间，超过此时间的ID Token会作废不再被验证通过。 iat = Issued At Time：必须。JWT的构建的时间。 auth_time = AuthenticationTime：EU完成认证的时间。如果RP发送AuthN请求的时候携带max_age的参数，则此Claim是必须的。 nonce：RP发送请求的时候提供的随机字符串，用来减缓重放攻击，也可以来关联ID Token和RP本身的Session信息。 acr = Authentication Context Class Reference：可选。表示一个认证上下文引用值，可以用来标识认证上下文类。 amr = Authentication Methods References：可选。表示一组认证方法。 azp = Authorized party：可选。结合aud使用。只有在被认证的一方和受众（aud）不一致时才使用此值，一般情况下很少使用。  3、认证方式 因为OIDC基于OAuth2，所以OIDC的认证流程主要是由OAuth2的几种授权流程延伸而来的，有以下3种：\n Authorization Code Flow：使用OAuth2的授权码来换取Id Token和Access Token。 Implicit Flow：使用OAuth2的Implicit流程获取Id Token和Access Token。 Hybrid Flow：混合Authorization Code Flow+Implici Flow。  只支持oauth2的两种flow，因为另外两种不时候，一种是密码直接登录的（账号密码都知道了，还要个蛋蛋的身份认证），Client Credentials Grant 就没有用户啥事，也不适合。\n4、认证详细 4.1 基于Authorization Code的认证请求 请求参数：\n scope：必须。OIDC的请求必须包含值为“openid”的scope的参数。 response_type：必选。同OAuth2。 client_id：必选。同OAuth2。 redirect_uri：必选。同OAuth2。 state：推荐。同OAuth2。防止CSRF, XSRF。  以上同 oauth2的参数，附加的参数有：\n response_mode：可选。OIDC新定义的参数（OAuth 2.0 Form Post Response Mode ），用来指定Authorization Endpoint以何种方式返回数据。 nonce：可选。ID Token中的出现的nonce就是来源于此。 display ： 可选。指示授权服务器呈现怎样的界面给EU。有效值有（page，popup，touch，wap），其中默认是page。page=普通的页面，popup=弹出框，touch=支持触控的页面，wap=移动端页面。 prompt：可选。这个参数允许传递多个值，使用空格分隔。用来指示授权服务器是否引导EU重新认证和同意授权（consent，就是EU完成身份认证后的确认同意授权的页面）。有效值有（none，login，consent，select_account）。none=不实现现任何认证和确认同意授权的页面，如果没有认证授权过，则返回错误login_required或interaction_required。login=重新引导EU进行身份认证，即使已经登录。consent=重新引导EU确认同意授权。select_account=假如EU在授权服务器有多个账号的话，允许EU选择一个账号进行认证。 max_age：可选。代表EU认证信息的有效时间，对应ID Token中auth_time的claim。比如设定是20分钟，则超过了时间，则需要引导EU重新认证。 ui_locales：可选。用户界面的本地化语言设置项。 id_token_hint：可选。之前发放的ID Token，如果ID Token经过验证且是有效的，则需要返回一个正常的响应；如果有误，则返回对应的错误提示。 8.login_hint：可选。向授权服务器提示登录标识符，EU可能会使用它登录(如果需要的话)。比如指定使用用户使用blackheart账号登录，当然EU也可以使用其他账号登录，这只是类似html中input元素的placeholder。 acr_values：可选。Authentication Context Class Reference values，对应ID Token中的acr的Claim。此参数允许多个值出现，使用空格分割。  请求响应返回 code 同oauth2,然后使用code去获取token, 最后用token去请求用户信息，并附加上id_token字段\nImplicit Flow的工作方式是在OAuth2 Implicit Flow上附加提供id_token\n5、UserInfo Endpoint UserIndo EndPoint是一个受OAuth2保护的资源。在RP得到Access Token后可以请求此资源，然后获得一组EU相关的Claims，这些信息可以说是ID Token的扩展，比如如果你觉得ID Token中只需包含EU的唯一标识sub即可（避免ID Token过于庞大），然后通过此接口获取完整的EU的信息。此资源必须部署在TLS之上\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/ubuntu/share-screen/",
	"title": "共享桌面",
	"tags": [],
	"description": "从mac连接ubuntu远程桌面",
	"content": "1、前提  ubuntu 开启 share screen设置 ubuntu 安装虚拟桌面，不然，远程的ubuntu需要连接实际的显示器，远程操作桌面  2、使用 ubuntu端开启：\n使用图形桌面，右上角设置 -\u0026gt; share -\u0026gt; share screen 打开即可\n虚拟桌面请参考： 虚拟桌面开启方法 只需在 mac 上 快捷栏 cmd + 空格 输入\nvnc://\u0026lt;ip\u0026gt;:\u0026lt;port\u0026gt; 即可打开远程桌面\n一般默认的端口是5900\n连接如果报： 版本不兼容的错误，是由于ubuntu开了安全加密，只需在ubuntu端关闭加密即可\ngsettings set org.gnome.Vino require-encryption false "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/centos/",
	"title": "centos系统",
	"tags": [],
	"description": "centos操作系统相关",
	"content": "内容：  Comps  description\n Rpmbuild  rpm build\n Kickstart  Kickstart 启动文件\n 自定义centos镜像  自定义centos镜像\n "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/cncf/usage/",
	"title": "使用",
	"tags": [],
	"description": "使用说明",
	"content": "Lorem Ipsum.\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/ops/",
	"title": "运维相关",
	"tags": [],
	"description": "",
	"content": "内容：  First  This is the content of the post. This is the second sentence of the post.\n "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/dns/",
	"title": "DNS",
	"tags": [],
	"description": "DNS",
	"content": "内容：  盒子部署  部署相关\n DNS产品  DNS产品\n 项目  DNS项目\n 关于  This is the content of the post. This is the second sentence of the post. A bunch of code here  "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/app/hydra/",
	"title": "Hydra",
	"tags": [],
	"description": "oauth2 and oidc server",
	"content": "一、示例 1、下载代码 git clone https://github.com/ory/hydra.git 2、启动服务： docker-compose -f quickstart.yml \\  -f quickstart-postgres.yml \\  up --build 端口 4444用于公网，4445用于管理口，一般用于内网，或者配有权限控制的代理\n3、测试服务已正确启动 不想测试也可跳过\n初始化一个oauth2 client，给的id，secre,和工作类型\ndocker-compose -f quickstart.yml exec hydra \\  hydra clients create \\  --endpoint http://127.0.0.1:4445/ \\  --id my-client \\  --secret secret \\  -g client_credentials 测试获取token\ndocker-compose -f quickstart.yml exec hydra \\  hydra token client \\  --endpoint http://127.0.0.1:4444/ \\  --client-id my-client \\  --client-secret secret 测试使用token获取信息，token使用上面命令返回的token\ndocker-compose -f quickstart.yml exec hydra \\  hydra token introspect \\  --endpoint http://127.0.0.1:4445/ \\  UDYMha9TwsMBejEvKfnDOXkhgkLsnmUNYVQDklT5bD8.ZNpuNRC85erbIYDjPqhMwTinlvQmNTk_UvttcLQxFJY 4、app验证测试 创建一个 oauth client secret可使用随机产生，grant-types 授权类型，response-types相应类型，scope控制域，自定义，callbacks客户端回调地址\ndocker-compose -f quickstart.yml exec hydra \\  hydra clients create \\  --endpoint http://127.0.0.1:4445 \\  --id auth-code-client \\  --secret secret \\  --grant-types authorization_code,refresh_token \\  --response-types code,id_token \\  --scope openid,offline \\  --callbacks http://127.0.0.1:5555/callback 启动客户端：\n客户端端口为 5555\ndocker-compose -f quickstart.yml exec hydra \\  hydra token user \\  --client-id auth-code-client \\  --client-secret secret \\  --endpoint http://127.0.0.1:4444/ \\  --port 5555 \\  --scope openid,offline 然后登打开： http://127.0.0.1:5555\n跳转到第三方登陆页面\n登陆授权 获取用户信息 "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/ubuntu/",
	"title": "Ubuntu",
	"tags": [],
	"description": "ubuntu 系统相关",
	"content": "内容：  虚拟桌面  虚拟桌面，用于vnc远程分ubuntu桌面\n 共享桌面  从mac连接ubuntu远程桌面\n "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/dns/product/",
	"title": "DNS产品",
	"tags": [],
	"description": "DNS产品",
	"content": "内容：  发展  DNS产品发展\n "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/",
	"title": "技术",
	"tags": [],
	"description": "技术",
	"content": "内容：  云原生  云原生相关项目，不止云原生\n centos系统  centos操作系统相关\n Ubuntu  ubuntu 系统相关\n System Clone  description\n x86上运行arm64  在x86平台运行arm64平台 docker镜像\n 开发  description\n 应用技术  应用技术\n 静态PPT 1、oidc.ppt 2、make-centos.ppt "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/app/dex/",
	"title": "Dex",
	"tags": [],
	"description": "基于oidc的授权层",
	"content": "1、what? Dex is an identity service that uses OpenID Connect to drive authentication for other apps.\nA Federated OpenID Connect Provider\n联邦oidc\n2、how? 3、use 安装\ngit clone https://github.com/dexidp/dex.git cd dex/ make 启动服务：\n./bin/dex serve examples/config-dev.yaml 配置文件示例：\n# DEPRECATED: use config.yaml.dist and config.dev.yaml examples in the repository root. # TODO: keep this until all references are updated. # The base path of dex and the external name of the OpenID Connect service. # This is the canonical URL that all clients MUST use to refer to dex. If a # path is provided, dex\u0026#39;s HTTP service will listen at a non-root URL. issuer: http://127.0.0.1:5556/dex # The storage configuration determines where dex stores its state. Supported # options include SQL flavors and Kubernetes third party resources. # # See the documentation (https://dexidp.io/docs/storage/) for further information. storage: type: sqlite3 config: file: examples/dex.db # type: mysql # config: # host: localhost # port: 3306 # database: dex # user: mysql # password: mysql # ssl: # mode: \u0026#34;false\u0026#34; # type: postgres # config: # host: localhost # port: 5432 # database: dex # user: postgres # password: postgres # ssl: # mode: disable # type: etcd # config: # endpoints: # - http://localhost:2379 # namespace: dex/ # type: kubernetes # config: # kubeConfigFile: $HOME/.kube/config # Configuration for the HTTP endpoints. web: http: 0.0.0.0:5556 # Uncomment for HTTPS options. # https: 127.0.0.1:5554 # tlsCert: /etc/dex/tls.crt # tlsKey: /etc/dex/tls.key # Configuration for dex appearance # frontend: # issuer: dex # logoURL: theme/logo.png # dir: web/ # theme: light # Configuration for telemetry telemetry: http: 0.0.0.0:5558 # Uncomment this block to enable the gRPC API. This values MUST be different # from the HTTP endpoints. # grpc: # addr: 127.0.0.1:5557 # tlsCert: examples/grpc-client/server.crt # tlsKey: examples/grpc-client/server.key # tlsClientCA: examples/grpc-client/ca.crt # Uncomment this block to enable configuration for the expiration time durations. # expiry: # deviceRequests: \u0026#34;5m\u0026#34; # signingKeys: \u0026#34;6h\u0026#34; # idTokens: \u0026#34;24h\u0026#34; # Options for controlling the logger. # logger: # level: \u0026#34;debug\u0026#34; # format: \u0026#34;text\u0026#34; # can also be \u0026#34;json\u0026#34; # Default values shown below # oauth2: # use [\u0026#34;code\u0026#34;, \u0026#34;token\u0026#34;, \u0026#34;id_token\u0026#34;] to enable implicit flow for web-only clients # responseTypes: [ \u0026#34;code\u0026#34; ] # also allowed are \u0026#34;token\u0026#34; and \u0026#34;id_token\u0026#34; # By default, Dex will ask for approval to share data with application # (approval for sharing data from connected IdP to Dex is separate process on IdP) # skipApprovalScreen: false # If only one authentication method is enabled, the default behavior is to # go directly to it. For connected IdPs, this redirects the browser away # from application to upstream provider such as the Google login page # alwaysShowLoginScreen: false # Uncomment the passwordConnector to use a specific connector for password grants # passwordConnector: local # Instead of reading from an external storage, use this list of clients. # # If this option isn\u0026#39;t chosen clients may be added through the gRPC API. staticClients: - id: example-app redirectURIs: - \u0026#39;http://127.0.0.1:5555/callback\u0026#39; name: \u0026#39;Example App\u0026#39; secret: ZXhhbXBsZS1hcHAtc2VjcmV0 # - id: example-device-client # redirectURIs: # - /device/callback # name: \u0026#39;Static Client for Device Flow\u0026#39; # public: true connectors: - type: mockCallback id: mock name: Example - type: oidc id: google name: Google config: # Canonical URL of the provider, also used for configuration discovery. # This value MUST match the value returned in the provider config discovery. # # See: https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfig issuer: https://accounts.google.com # Connector config values starting with a \u0026#34;$\u0026#34; will read from the environment. clientID: 911112961525-j80e3rsudir1g9mmqi2pkd2dpbsc2pqu.apps.googleusercontent.com clientSecret: uoVEuJJTlRGJwZPqSB5NIEbH # Dex\u0026#39;s issuer URL + \u0026#34;/callback\u0026#34; redirectURI: http://127.0.0.1:5556/dex/callback claimMapping: - type: github # Required field for connector id. id: github # Required field for connector name. name: Github config: # optional, default = https://gitlab.com # baseURL: https://gitlab.com # Credentials can be string literals or pulled from the environment. clientID: 51fb2b4d40071eac75ef clientSecret: 52825c5739c9fb5390266789d917c1f6c98a3882 redirectURI: http://127.0.0.1:5556/dex/callback # Optional groups whitelist, communicated through the \u0026#34;groups\u0026#34; scope. # If `groups` is omitted, all of the user\u0026#39;s GitLab groups are returned when the groups scope is present. # If `groups` is provided, this acts as a whitelist - only the user\u0026#39;s GitLab groups that are in the configured `groups` below will go into the groups claim. Conversely, if the user is not in any of the configured `groups`, the user will not be authenticated. # orgs: # - name: my-organization # # Include all teams as claims. # - name: my-organization-with-teams # # A white list of teams. Only include group claims for these teams. # teams: # - red-team # - blue-team # Flag which indicates that all user groups and teams should be loaded. # loadAllGroups: false teamNameField: slug # flag which will switch from using the internal GitHub id to the users handle (@mention) as the user id. # It is possible for a user to change their own user name but it is very rare for them to do so useLoginAsID: false # - type: google # id: google # name: Google # config: # issuer: https://accounts.google.com # # Connector config values starting with a \u0026#34;$\u0026#34; will read from the environment. # clientID: $GOOGLE_CLIENT_ID # clientSecret: $GOOGLE_CLIENT_SECRET # redirectURI: http://127.0.0.1:5556/dex/callback # hostedDomains: # - $GOOGLE_HOSTED_DOMAIN # Let dex keep a list of passwords which can be used to login to dex. enablePasswordDB: true # A static list of passwords to login the end user. By identifying here, dex # won\u0026#39;t look in its underlying storage for passwords. # # If this option isn\u0026#39;t chosen users may be added through the gRPC API. staticPasswords: - email: \u0026#34;yinqiwei@360.cn\u0026#34; # bcrypt hash of the string \u0026#34;password\u0026#34; hash: \u0026#34;$2a$10$2b2cU8CPhOTaGrs1HRQuAueS7JTT5ZHsHSzYiFPm1leZck7Mc8T4W\u0026#34; username: \u0026#34;admin\u0026#34; userID: \u0026#34;08a8684b-db88-4b73-90a9-3cd1661f5466\u0026#34; 客户端：\nmake examples ./bin/example-app "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/private/",
	"title": "私密",
	"tags": [],
	"description": "",
	"content": "内容：  "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/dns/box/feature/",
	"title": "发展",
	"tags": [],
	"description": "发展",
	"content": "第一期 构建部署相关 1、私有化集群 建设私有化集群是对外私有化部署解决方案的第一步。\n 一键部署 方便扩展 安全的配置 集群管理程序化  2、统一网关（微服务） 目前仅有简单网关\n缺失：\n 服务访问自动tls 自动代理注入 分布式追踪（应用依赖分析） 故障注入 负载均衡  应用状态可见性和可测试。\n2、持久存储 目前缺失\n持久存储是有状态服务的基础。 持久化存储为数据库和应用提供高可用的数据服务。\n 高可用，高性能，稳定 一键部署  3、监控报警 高可用、覆盖全面的监控系统是建设高可用服务的第一步。\n监控可以让我们清晰的看到当前系统的运行状态，监控加报警可以提供紧急状态预警。\n缺失：\n 应用自身状态数据缺失（希望看到应用的健康状态，请求量，延迟和关键指标数据） 组件状态数据缺失（每个组件的运行状态，请求量，延迟，报错等） 应用链路可见性监控  4、日志 当前没有日志系统！\n应用日志目前没有严格要求过，但应用有一个标准。\n缺失：\n 日志收集，持久存储 日志查询 日志报警（sentry） 日志链路分析 分布式追踪系统  5、构建部署 目前的构建部署自动化属于初级阶段。\n缺失：\n k8s作为job, 将任务跑到k8s集群 接入有一定成本，有待优化 应用单元测试覆盖  6、项目迭代优化 完善项目迭代流程，小步快走，快速迭代能力，以功能打造产品而不是版本。\n越是复杂的系统，越需要系统间解耦。分开独立的迭代子系统，可以极大的减少系统bug。\n7、快速的对外应用部署能力 有了基础设施搭建还需要快速的应用部署能力。\noperator sdk 和 kubebuilder\n用于为kubernetes crd设置控制器/操作符代码库的两个主要工具。主要都是基于k8s的crd资源，差别不是很大，只有支持的特性多少差别。\n应用改用 operator sdk 或 kubebuilder部署，提升应用的稳定性和更细粒度的可控性。\n operator 支持ansible和helm operators Kubebuilder包含一个envtest包，允许操作员开发人员使用独立的etcd和apiserver运行简单的测试。 Kubebuilder搭建了一个Makefile来帮助用户完成操作任务(构建、测试、运行、代码生成等);操作员SDK目前使用内置子命令。每种方法都有优缺点。SDK团队将来可能会迁移到基于makefile的方法。 Kubebuilder使用Kustomize来构建部署清单;Operator SDK使用带有占位符的静态文件。 Kubebuilder最近改进了对准入和CRD转换webhook的支持，这还没有进入operator SDK。  Kubebuilder 由k8s官方出品\n业务相关 1、统一鉴权服务，统一授权服务 使用同一的鉴权服务减少系统间的耦合和复杂性。 统一登录，服务间的认证统一\n统一用户权限控制，将权限控制和业务代码解耦。\n可编程的权限服务系统。\n鉴权体系是所有系统的基础能力。\n2、统一事件处理的服务SDK CloudEvents\n通用标准事件数据分发，事件分发和接收通用标准。\n一个框架支持多种格式：\n json kafka http nats websockets protobuf web hook  提供：\n 统一的类型系统，抽象类型，不与实际类型耦合 统一协议规范 监控及可见性 供跨服务、跨平台和跨系统  我们更换底层消息组件的阻力可能就差这一个统一的消息处理sdk。如果有一个统一的sdk，那么小心的定义和收发可以统一语义，有利于应用事件的高效设计。\n3、API设计优化 REST并不是唯一的api设计规范。\nREST vs GraphQL:\n rest劣势1：今天开发的大多数web和移动应用程序都需要大量的数据，这些数据通常结合了相关的资源。问题是，使用基于rest的API访问所有数据以获得所需的一切需要多次往返。 rest劣势2：开发人员在使用REST时面临的另一个常见问题是过度提取（获取太多数据）和提取不足(需要多次调用)。 GraphQL与REST之间的关键区别是，GraphQL不处理专用资源。您可以使用GraphQL查询语言定制您的请求，以匹配您的确切需求。 GraphQL使得前端产品的快速迭代成为可能，因为它允许开发人员在客户端进行更改，而不需要与服务器打交道。 使用GraphQL，开发人员能够深入了解后端请求的数据以及可用数据是如何被使用的。因为，使用GraphQL，每个客户机都确切地指定了它们需要的信息。 GraphQL使用强类型系统定义api的功能，该系统本质上告诉客户端如何访问数据。 GraphQL的主要缺点是使用单一端点而不是遵循HTTP规范进行缓存。 graphql自带api文档，几乎不需要另外写。自带调用界面。  graphql更适合前端数据图表类应用，它可以定制查询数据。\nrest:\nGET /books/:id GET /authors/:id GET /books/:id/comments POST /books/:id/comments graphql:\ntype Query { book(id: ID!): Book author(id: ID!): Author } type Mutation { addComment(input: AddCommentInput): Comment } type Book { ... } type Author { ... } type Comment { ... } input AddCommentInput { ... } REST vs gRPC:\n gRPC低延迟 用于微服务间调用 低带宽 实现比rest慢，对于高速迭代的开发不适合  4、提升数据分析能力提升 clickhouse只是数据的统计，并没有数据分析。\n统计是已知数据标签，按照标签统计数数量。 数据分析是未知数据标签，找出潜在标签。\n ip资产分析，多维度用户画像 异常分析，DNS异常查找历史、响应内容和与其他数据源的相关性——包括对网站内容的主动分析等。 dns分析类型1：威胁情报-识别恶意域(例如，抢注，命令和控制，被破坏的名称)。利用DNS分析生成新的威胁情报，可以用来阻止域名，阻止未来对恶意域名的访问。 dns分析类型2：感染检测-检测受感染的端点(例如，可疑行为模式)。基于可疑的DNS行为快速发现被破坏的系统。越快地检测出被破坏的端点，就能越快地修复它们，从而限制所造成的损害。 dns分析类型3：域名分类——域名的自动分类(例如，与不需要的已知域相似的域)。域名分类比威胁情报范围更广，因为领域可以被分类为赌博、游戏或其他分类标记，而不是明确地标记为恶意或非恶意。 dns分析类型4：取证标记——为取证提供可操作的信息(例如，过去的查找和响应)。由于DNS是高度动态的，IP地址和名称之间的关联变化速度非常快，因此在进行威胁搜索或取证调查时，维护过去端点解决的IP地址的确切历史记录非常重要。  dns主动监测：\nIBM: 《Stream Computing for Large-Scale, Multi-Channel Cyber Threat Analytics: Architecture, Implementation, Deployment, and Lessons Learned.》\n关于检测快速流动和DGAs的研究。 （detect fast fluxing and DGAs published）\n结合上面的四种分析类型和大量的dns流量，数字证书注册信息(domain name registration data (WHOIS) )，我们可以做很多分析：\n dns主动监测是一种从根本上不同的方法，用于在实际的安全威胁可见之前发现潜在的恶意域以及这些域背后的不良行动者。 威胁参与者通常通过应用生成方法来生成恶意域名，例如域名抢注。威胁前检测发现新注册的Quad9恶意域名，并识别域名背后的参与者。 WHOIS信息和网站信息比对可以降低假阳性率 恶意域名的领域分布极其不均匀，针对不同领域分别防御。 内容和信息分析是基于一些快速的DNS查询流。用于检测DNS隧道，旨在识别DNS上的数据泄露和其他隐蔽通道。 通过识别DNS查询流量中的异常峰值，容量分析可用于检测可疑的DNS活动。良性域名的流量峰值通常在峰值前后有正常行为，而恶意域名的流量峰值则没有。通过描述IP地址的良性解析(常见使用)和恶意重绑定攻击之间的差异，体积DNS分析还可以用于检测DNS重绑定攻击。  限制范围更加关注数据：\nDNS的体量分析很有效，但可以通过限制分析的范围来提高效率。 可检测的攻击主要通过两种dns方式：\n 1、攻击创建的新域名。 2、 现有的域名被劫持用于恶意活动。  使用fast fluxing，攻击者会快速循环通过大量不同的IP地址的域名，以避免被阻止。研究参考 《Scalable Analytics to Detect DNS Misuse for Establishing Stealthy Communication Channels》可以使用两种分析技术进行检测：MapReduce and Feature Collection and Correlation Engine (FCCE) 另一种减少检测体量的方法是关注失败的域解析(NXDOMAIN)。在同一篇论文中被提到，这是一种对抗技术，恶意软件通过算法为其C\u0026amp;C服务器计算域，并试图解决这些域，直到找到一个活动服务器。查看失败的域名，查找计算特征：它是否是punycode-encoded，它包含的任何字典单词的语言，等等。利用这些特性，该技术计算出一个加权骗局\n被动dns分析\n 威胁行为分析  5、云原生分布式发布-订阅消息 Pulsar，大厂主推用于替换kafka。\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/system/system-clone/",
	"title": "System Clone",
	"tags": [],
	"description": "description",
	"content": "克隆恢复系统  Clonezilla（推荐） Mondo Rescue Partimage FSArchiver Partclone G4L doClone Relax-and-Recover（推荐）  Clonezilla Clonezilla\nhttps://clonezilla.org/\nMondo Rescue http://www.mondorescue.org/\nPartimage http://www.partimage.org/\n 限制1：不能自己克隆自己，也就是说不能克隆一个正在运行的linux，因此，需要将原盘挂到另外一个linux系统上。 限制2：目标分区的尺寸不能小于原分区－例如原分区的大小为15G，虽然可能实际使用的容量不到5G，但还是无法克隆到一个小于15G的分区上。 限制3: 如果备份的分区有MBR，不能使用bzip2压缩格式。  FSArchiver https://www.fsarchiver.org/\nPartclone https://partclone.org/\nLicensed under GPL, it is available as a tool in Clonezilla as well, you can download it as a package.\nG4L g4l = Ghost for Linux\nhttps://sourceforge.net/projects/g4l/\ndoClone http://doclone.nongnu.org/\nRelax-and-Recover https://relax-and-recover.org/\n一、Relax-and-Recover使用指南 https://github.com/rear/rear/blob/master/doc/rear.8.adoc\n默认变量： /usr/share/rear/conf/default.conf 默认配置文件： /etc/rear/local.conf\nredhat文档：\nhttps://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/system_administrators_guide/part-system_backup_and_recovery\n安装 yum install rear genisoimage syslinux 配置 /etc/rear/local.conf\n生成iso文件，包含一个可启动的恢复系统和当前系统文件。\nOUTPUT=ISO OUTPUT_URL=file:///home/dns/backup BACKUP=NETFS BACKUP_URL=iso:///backup/ 变量：\n TMPDIR使用 /tmp/rear.$$/ NETFS_KEEP_OLD_BACKUP_COPY  生成 # 查看检查配置 rear dump # 生成镜像 rear -v mkbackup 生成路径： /home/dns/backup/system/xxx.iso\n使用iso启动 生成的iso中包含一个小型系统用于恢复和当前系统的所有备份文件\n其它 rear -v mkrescue命令只会生成一个用于恢复的系统，backup文件保存在其它位置，需要手动下载复制到恢复系统中\n# 在恢复系统中rear recover后会进入backup选择阶段： scp root@192.168.122.7:/srv/backup/rhel7/backup.tar.gz /mnt/local/ tar xf /mnt/local/backup.tar.gz -C /mnt/local/ rm -f /mnt/local/backup.tar.gz touch /mnt/local/.autorelabel ls /mnt/local/ exit reboot "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/dns/box/kunpeng/",
	"title": "鲲鹏",
	"tags": [],
	"description": "鲲鹏机器",
	"content": "镜像构建： 安装虚拟机： QEMU 运行docker： https://github.com/multiarch/qemu-user-static\nnode_exporter 手动安装\n下载arm64 node_exporter，其它安装配置同x86\nk3s 手动安装\n安装同x86的rpm包 需要替换k3s和image，\n修改启动： k3s.service\n改用fannel作为网络插件\n应用镜像构建 产出目录： hub.dns.360.cn\n安装 需要注意修改 配置文件 中的镜像名；\nlicense初始化修改grafana地址等\nclickhouse coredump\nhttps://github.com/ClickHouse/ClickHouse/issues/18121 https://github.com/ClickHouse/ClickHouse/issues/20\n最终是由版本： hub.dns.360.cn/library/clickhouse-arm64:20.3.19.4\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/other/docker-x86-arm64/",
	"title": "x86上运行arm64",
	"tags": [],
	"description": "在x86平台运行arm64平台 docker镜像",
	"content": "依赖 安装虚拟机： QEMU 运行docker： https://github.com/multiarch/qemu-user-static\n测试 docker run --rm --privileged multiarch/qemu-user-static --reset -p yes docker run --rm -t arm64v8/ubuntu uname -m "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/dns/box/chore/",
	"title": "讨论",
	"tags": [],
	"description": "讨论区",
	"content": "1、dns产品使用rpm或者ansible安装？ 安装涉及到：\n dns产品的磁盘分区（数据库） 网卡初始化 密码初始化（grafana,coredns） 配置文件文件生成  优缺点：\nrpm:\n 安装方便，基本无依赖 只能对系统进行简单的初始化操作 定制化较严重，缺少灵活性  ansible:\n 安装有依赖 可以定制系统（磁盘，网络等） 可定制化，安装灵活  2、arm64 image 基础镜像：\nlibrary/postgres-arm64 library/php-nginx-arm64 library/openjdk-arm64 library/nginx-worker-arm64 library/nginx-arm64 library/kafka-zookeeper-arm64 library/golang-kafka-arm64 library/golang-arm64 library/clickhouse-arm64 library/ubuntu-arm64 library/alpine-arm64 hub.dns.360.cn/library/node-arm64:10.23.3 hub.dns.360.cn/library/clickhouse-arm64:21.1.2.15 hub.dns.360.cn/library/prometheus:v2.20.1 hub.dns.360.cn/library/dashboard-arm64:v2.0.4 hub.dns.360.cn/library/grafana-arm64:7.1.5\n业务相关：\nhub.dns.360.cn/dns/kafka-zookeeper-arm64:latest hub.dns.360.cn/dns/nginx-worker-arm64:latest hub.dns.360.cn/dns/postgres-arm64:v2.7.4 hub.dns.360.cn/dns/clickhouse-arm64:v2.7.4\nhub.dns.360.cn/dns/coredns-box-prepare-arm64:latest hub.dns.360.cn/dns/coredns-box-arm64:v2.7.5 hub.dns.360.cn/dns/grafana-arm64:v2.7.3 hub.dns.360.cn/dns/prometheus-arm64:v2.7.3 hub.dns.360.cn/dns/cron-report-arm64:v2.7.3 hub.dns.360.cn/dns/sms-arm64:v2.7.4\nhub.dns.360.cn/dns/qdns/web-box-prepare-arm64:latest hub.dns.360.cn/dns/web-box-arm64:v2.7.4\nhub.dns.360.cn/dns/php-build-arm64:latest hub.dns.360.cn/dns/php-box-arm64:v2.7.6\n3、容器用户及进程问题  以postgres为例：  [root@localhost ~]# ps -ef | grep postgres UID PID PPID C STIME TTY TIME CMD 70 2094186 2093529 0 4月16 ? 00:01:11 postgres 可以看到启动的 uid为70, 进场id是 2094186 父进程id是：2093529\n 查看父进程：  [root@localhost ~]# ps -ef | grep 2093529 UID PID PPID C STIME TTY TIME CMD root 2093529 1 0 4月16 ? 00:30:42 /data/k3s/data/07bf5246a6ab2127234428fbf3023ce85b0376a7b946bbdaee2726b7d9a6fad8/bin/containerd-shim-runc-v2 -namespace k8s.io -id 7359ee63fdefabc6987f19a251075166c632c9771cdc4696cb2b15ade4c5f927 -address /run/k3s/containerd/containerd.sock 可以看到父进程用户是root，进场id是：2093529 ,父进程是1号进程。\n 看下用户：  cat /etc/passwd | grep 70 当前系统没有70这个用户\n 进入容器  [root@localhost ~]# kubectl exec -it box-postgres-bff79d55c-p452q -- bash bash-5.0# ps -ef PID USER TIME COMMAND 1 postgres 1:11 postgres 容器进程是1号，用户 postgres\n 容器中的用户   postgress 用户属于容器中\nbash-5.0# cat /etc/passwd | grep 70 postgres:x:70:70:Linux User,,,:/var/lib/postgresql:/bin/sh 结论：\n容器中的用户不存在实际机器中。容器中进程的pid由containerd父进程创建，容器中的进程均是containerd的子进程。\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/centos/comps/",
	"title": "Comps",
	"tags": [],
	"description": "description",
	"content": "comps.xml rpm包仓库配置文件\nref:\nhttps://tldp.org/HOWTO/RedHat-CD-HOWTO/comps-file.html https://flylib.com/books/en/1.362.1.42/1/\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/centos/rpmbuild/",
	"title": "Rpmbuild",
	"tags": [],
	"description": "rpm build",
	"content": "准备 sudo yum install rpm-build sudo yum install rpmdevtools new project 默认的_topdir是用户的\u0026lt;home\u0026gt;/rpmbuild目录，所以一般到用户的home目录下创建项目。\n当然通过修改_topdir也能到其它目录创建。\n# 创建目录 rpmdev-setuptree # or mkdir -p ~/rpmbuild/{BUILD,RPMS,SOURCES,SPECS,SRPMS} # 生成 初始spec文件 rpmdev-newspec hello 目录结构：\nrpmbuild |_ BUILD |_ BUILDROOT |_ RPMS |_ SOURCES |_ SPECS |_ SRPMS spec 文件 分段  定义段 构建段 安装段   定义  Name Version Release Summary License URL Source0 Patch0 ... 构建  %description %prep %build %install %check %files %changelog 安装  %pre %post %preun %postun Macros 宏定义\nref: https://docs.fedoraproject.org/en-US/packaging-guidelines/RPMMacros/\n宏定义查看\nrpm --showrc # or 宏计算 rpm --eval %dump # 其它 rpm --eval \u0026#34;%{_topdir}\u0026#34; 宏示例：\n1. macro: %setup cd %{_topdir}/BUILD rm -rf hello-2.10 gzip -dc %{_topdir}/SOURCES/hello-2.10.tgz | tar -xvvf - if [ $? -ne 0 ]; then exit $? fi cd hello-2.10 cd %{_topdir}/BUILD/hello-2.10 chown -R root.root . chmod -R a+rX,g-w,o-w . 2. macro: %configure 等于：\ncd %{_topdir}/BUILD/hello-2.10 ./configure 一个完整示例：\n%undefine _missing_build_ids_terminate_build Name: node_exporter Version: 1.1.2 Release: 1%{?dist} Summary: node expoter install Summary(zh_CN): node expoter 安装 License: GPLv3+ URL: https://sdns.360.cn Source0: node_exporter-%{version}.tar.gz BuildRequires: gettext # Requires(post): %description install node expoter. %description -l zh_CN 安装node expoter。 # pre build %prep %setup -q %build %install rm -rf $RPM_BUILD_ROOT mkdir -p %{buildroot}/usr/local/bin mkdir -p %{buildroot}/etc/node_exporter mkdir -p %{buildroot}/etc/systemd/system install -m 755 node_exporter %{buildroot}/usr/local/bin install -m 644 config.yaml %{buildroot}/etc/node_exporter install -m 644 node_exporter.service %{buildroot}/etc/systemd/system # file install %files %defattr(0444,root,root) %attr(0755,root,root) /usr/local/bin/node_exporter %attr(0755,root,root) /etc/node_exporter/config.yaml %attr(0755,root,root) /etc/systemd/system/node_exporter.service # pre install %pre getent group node-exp || groupadd -r node-exp useradd -G node-exp -s /usr/sbin/nologin -r -N -M -d / node-exp # post install %post systemctl enable node_exporter systemctl start node_exporter # pre uninstall %preun systemctl stop node_exporter systemctl disable node_exporter # post uninstall %postun userdel node-exp groupdel node-exp %changelog * Thu Jul 01 2021 The Coon of Ty \u0026lt;TonyYin@360.cn\u0026gt; - 1.0 - Initial version of the package build # 构建 rpmbuild -ba hello.spec # or rpmbuild --define \u0026#34;_topdir `pwd`\u0026#34; -v -ba SPECS/hello.spec # 检查 rpmlint hello.spec rpmlint hello.spec ../SRPMS/hello* ../RPMS/*/hello* # 安装 rpm -ivp RPMS/x86_64/hello-2.10-1.el7.x86_64.rpm # 卸载 rpm -e hello-2.10-1.el7.x86_64 ref  https://rpm-packaging-guide.github.io/ https://docs.fedoraproject.org/en-US/packaging-guidelines/RPMMacros/ http://ftp.rpm.org/max-rpm/s1-rpm-build-creating-spec-file.html  "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/cncf/metallb/",
	"title": "Metallb",
	"tags": [],
	"description": "description",
	"content": "基本信息 https://metallb.universe.tf/concepts/\nMetalLB hooks into your Kubernetes cluster, and provides a network load-balancer implementation.\n安装 1、ipvs模式配置修改：\nkubectl edit configmap -n kube-system kube-proxy apiVersion: kubeproxy.config.k8s.io/v1alpha1 kind: KubeProxyConfiguration mode: \u0026#34;ipvs\u0026#34; ipvs: strictARP: true 2、安装\n需要文件：\n namespace.yaml metallb.yaml secret.yaml  其中namespace.yaml 和 metallb.yaml可以在github上找到\nhttps://github.com/metallb/metallb/tree/main/manifests\nsecret.yaml需要自己创建\nkubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.9.6/manifests/namespace.yaml kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.9.6/manifests/metallb.yaml # On first install only kubectl create secret generic -n metallb-system memberlist --from-literal=secretkey=\u0026#34;$(openssl rand -base64 128)\u0026#34; 注意：\ncalico 和 matallb中的speaker冲突，修改文件\n1、node asnumber,routeReflectorClusterID\n2、\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/cncf/calico-bgp/",
	"title": "Calico bgp",
	"tags": [],
	"description": "calico bgp 配置",
	"content": "global peer 全局peer将所有的node对接到外部的bgp infra路由，需要infra支持\napiVersion: projectcalico.org/v3 kind: BGPPeer metadata: name: my-global-peer spec: peerIP: 192.20.30.40 asNumber: 64567 Configure a node to act as a route reflector 选择node作为路由反射，将减少集群的路由量，有少量的节点反射其它节点的路由信息；\nadd cluster id to node\ncalicoctl patch node my-node -p \u0026#39;{\u0026#34;spec\u0026#34;: {\u0026#34;bgp\u0026#34;: {\u0026#34;routeReflectorClusterID\u0026#34;: \u0026#34;244.0.0.1\u0026#34;}}}\u0026#39; add label to node\nkubectl label node my-node route-reflector=true config peer: 所有节点连接 reflector节点\nkind: BGPPeer apiVersion: projectcalico.org/v3 metadata: name: peer-with-route-reflectors spec: nodeSelector: all() peerSelector: route-reflector == \u0026#39;true\u0026#39; globel as change calicoctl patch bgpconfiguration default -p \u0026#39;{\u0026#34;spec\u0026#34;: {\u0026#34;asNumber\u0026#34;: \u0026#34;64513\u0026#34;}}\u0026#39; node as change calicoctl patch node node-1 -p \u0026#39;{\u0026#34;spec\u0026#34;: {\u0026#34;bgp\u0026#34;: {\u0026#34;asNumber\u0026#34;: \u0026#34;64514\u0026#34;}}}\u0026#39; Advertise Kubernetes service IP addresses Advertise service cluster IP addresses 外部ip:\ncalicoctl patch BGPConfig default --patch \u0026#39;{\u0026#34;spec\u0026#34;: {\u0026#34;serviceExternalIPs\u0026#34;: [{\u0026#34;cidr\u0026#34;: \u0026#34;123.125.81.66/32\u0026#34;}]}}\u0026#39; 禁用node mesh:\ncalicoctl patch bgpconfiguration default -p \u0026#39;{\u0026#34;spec\u0026#34;: {\u0026#34;nodeToNodeMeshEnabled\u0026#34;: false}}\u0026#39; Advertise service external IP addresses calicoctl patch BGPConfig default --patch \\  \u0026#39;{\u0026#34;spec\u0026#34;: {\u0026#34;serviceExternalIPs\u0026#34;: [{\u0026#34;cidr\u0026#34;: \u0026#34;123.125.81.66/32\u0026#34;}]}}\u0026#39; Exclude certain nodes from advertisement kubectl label node vm-pandora-kube-04 node.kubernetes.io/exclude-from-external-load-balancers=true "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/app/gns3/",
	"title": "Gns3",
	"tags": [],
	"description": "网络模拟器",
	"content": "GNS3 "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/dns/box/haiguang/",
	"title": "海光麒麟机器安装",
	"tags": [],
	"description": "海光麒麟机器安装",
	"content": "1、配置文件参数修改\n# 禁用下载检查 pandora_enable_download: false pandora_k3s_disable_manager_nic: true enable_kernel_task: false 需要手动执行磁盘初始化： 分区， 目录挂载\n2、机器初始化\n下载k3s依赖软件：yum install 需要手动执行\n安装k3s需要关闭selinux\nsetenforce 0 修改文件：\n/etc/selinux/config 修改行：\nSELINUX=disabled 重启系统\n禁用firewalld, 它会扰乱iptables\nsystemctl stop firewalld systemctl disable firewalld 3、 安装k3s\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/app/quagga/",
	"title": "Quagga",
	"tags": [],
	"description": "Quagga",
	"content": "简介 路由器\nQuagga软件原名是Zebra是由一个日本开发团队编写的一个以GNU版权方式发布的软件。可以使用Quagga将linux机器打造成一台功能完备的路由器。\n特性：\n模块化设计：Quagga基于模块化方案的设计，即对每一个路由协议使用单独的守护进程。 运行速度快：因为使用了模块化的设计，使得Quagga的运行速度比一般的路由选择程序要快。 可靠性高：在所有软件模块都失败的情况下，路由器可以继续保持连接并且daemons也会继续运行。故障诊断不必离线的状态下被诊断和更正\n组成 Quagga运行时要运行多个守护进程，包括ripd ripngd ospfd ospf6d bgpd 和Zebra。\nZebra守护进程用来更新内核的路由表，其他的守护进程负责进行相应路由选择协议的路由更新。\n安装 略\n运行 # 帮助 zebra -h # 启动 zebra -d 查看服务端口，可以看到各种协议所对应的接口\ncat /etc/service 运行其他守护进程\n(ospfd|bgpd|ripd) -d 操作 登陆zebra tty\ntelnet 127.1 2601 // 默认密码：zebra  登录zebra后就可以使用zebra的命令进行操作。登录其他的守护进程，都是通过它的端口登录的。 也可以直接执行 vtysh 进行配置。 selinux会影响zebra运行，关闭掉 启用IPv4转发功能 do write (保存协议配置命令到conf文件中）  telnet localhost 2601 ...(密码zebra) # 进入特权模式 Router\u0026gt; enable # 输入一个问号，看看Quagga提供了多少路由命令： Router# ? # 察看一下当前的配置 Router# show running-config # 进入全局模式，尽可能把实际可用的配置命令都实验一遍： Router# configure terminal 路由配置 bgp配置：\ntelnet localhost 2605 Password: bgpd\u0026gt; enable bgpd\u0026gt; conf t bgpd(config)\u0026gt; hostname r1_bgpd r1_bgpd(config)\u0026gt; router bgp 7675 # 配置里已经指定了AS为7675. AS是一个16bit的数字，其范围从1到 65535。RFC 1930给出了AS编号使用指南。从64512到65535的AS编号范围是留作私用的，类似私有IP。 r1_bgpd(config-router)\u0026gt; network 192.9.200.0/24 r1_bgpd(config-router)\u0026gt; neighbor 192.9.200.179 remote-as 767 查看：\nshow ip bgp summary "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/app/keepalived/",
	"title": "Keepalived",
	"tags": [],
	"description": "description",
	"content": "安装\nyum install -y keepalived systemctl status keepalived 配置文件：\nvim /etc/keepalived/keepalived.conf 机器1 master 配置：\nvrrp_instance VI_1 { state MASTER interface eth1 virtual_router_id 51 priority 255 advert_int 1 authentication { auth_type PASS auth_pass 12345 } virtual_ipaddress { 192.168.122.200/24 } } 机器2 backup配置：\nvrrp_instance VI_1 { state BACKUP interface eth1 virtual_router_id 51 priority 254 advert_int 1 authentication { auth_type PASS auth_pass 12345 } virtual_ipaddress { 192.168.122.200/24 } } 查看ip状态：\nip -brief address show "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/dns/project/oauth2/",
	"title": "Oauth2",
	"tags": [],
	"description": "oauth2 对接",
	"content": "360接入文档： http://open.app.360.cn/\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/app/oauth-client-demo/",
	"title": "Oauth Client示例",
	"tags": [],
	"description": "Oauth Client Demo",
	"content": "一、示例 项目地址 github有公共的oauth登陆接口，只需要申请 git clone git@github.com:ruanyf/node-oauth-demo.git cd node-oauth-demo npm install node index.js 打开地址 http://localhost:8080 "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/dev/go-mod/",
	"title": "Go Mod",
	"tags": [],
	"description": "go mod",
	"content": "1、代理设置\ngo env -w GOPROXY=https://goproxy.cn,direct 取消\ngo env -w GOPROXY= GOPRIVATE 设置跳过私有库\ngo env -w GOPRIVATE=*.gitlab.com,*.gitee.com "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/dev/",
	"title": "开发",
	"tags": [],
	"description": "description",
	"content": "内容：  Go Mod  go mod\n "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/app/",
	"title": "应用技术",
	"tags": [],
	"description": "应用技术",
	"content": "内容：  Oauto2  oauth2 认证\n openid connect  openid connect 基于oauth2的鉴权认证标准\n Hydra  oauth2 and oidc server\n Dex  基于oidc的授权层\n Gns3  网络模拟器\n Quagga  Quagga\n Keepalived  description\n Oauth Client示例  Oauth Client Demo\n "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/centos/kickstart/",
	"title": "Kickstart",
	"tags": [],
	"description": "Kickstart 启动文件",
	"content": "是什么？ 使用kickstart,系统管理员可以创建一个文件,这个文件包含了在典型的安装过程中所遇到的问题\n控制安装系统的流程和配置\n怎么使用？ 详细参考官方文档 centos7 使用说明 kickstart文件的格式\n1. 命令段：指明各种安装前配置，如键盘类型等 2. 程序包段：指明要安装的程序包组或程序包，不安装的程序包等 3. 脚本段： + %pre: 安装前脚本 运行环境：运行于安装介质上的微型Linux环境 + %post: 安装后脚本 运行环境：安装完成的系统 命令段中的命令  必备   auth # 认证 bootloader # bootloader位置及配置 keyboard lang part # 分区创建 rootpw # route密码 timezone   可选   install 或 upgrade # 新安装或者更新 text/graphical # 文本安装或者界面安装 network # 网卡设置 firewall # 防火墙配置 selinux poweroff reboot repo user # 为系统创建用户 url # 安装源 key -skip # 跳过安装号  程序段 %packages package #要安装的包 @development #要安装的包组 -byacc #不安装的包 %end 脚本段 安装前脚本\n%pre i am pre %end 安装后脚本\n%post i am post %end 示例文件 #platform=x86, AMD64, or Intel EM64T #version=DEVEL # Install OS instead of upgrade install #全新安装 # Keyboard layouts keyboard \u0026#39;us\u0026#39; #键盘模式，美式US # Root password rootpw --iscrypted $1$7Q46UR0F$uZjZh2p9X.MlrV0dW8euj. #设置root账号口令并采用加密 # Use network installation url --url=\u0026#34;http://10.10.10.254/centos7/os/x86_64\u0026#34; #系统镜像yum源的URL地址 # System language lang en_US #系统默认语言，en_US # System authorization information auth --useshadow --passalgo=sha512 #系统默认使用shadow文件作为账号登录验证 # Use text mode install text #安装过程默认使用text文本的tui界面 firstboot --disable # SELinux configuration selinux --disabled #禁用selinux # Firewall configuration firewall --disabled #禁用系统防火墙 # Network information network --bootproto=dhcp --device=eth0 #系统默认的网卡配置 # Reboot after installation reboot #安装完成后自动重启系统 # System timezone timezone Asia/Shanghai #设置系统默认时区 Asia/Shanghai # System bootloader configuration bootloader --append=\u0026#34;net.ifnames=0\u0026#34; --location=mbr #安装新的bootload程序，并添加内核启动参数 net.ifnames=0 # Clear the Master Boot Record zerombr #清除原有的MBR引导记录 # Partition clearing information clearpart --all --initlabel #清除原有的硬盘分区标签 # Disk partitioning information #硬盘分区信息，按实际需求设定 part /boot --fstype=\u0026#34;xfs\u0026#34; --size=1024 part / --fstype=\u0026#34;xfs\u0026#34; --size=51200 part swap --fstype=\u0026#34;swap\u0026#34; --size=4096 part /data --fstype=\u0026#34;xfs\u0026#34; --grow --size=1 # /data分区使用所有剩余硬盘空间 %packages #要安装的包组，以%packages行开始，到%end结尾，包组以@符号开头，单个包直接写包名 @desktop-debugging @fonts @gnome-desktop @input-methods @legacy-x @remote-desktop-clients @x11 vinagre %end #需要注意的是，centos6中，如果选择最小化安装，ks文件最后需要写上 %packages开始行%end结尾行的2行，否则系统会默认安装所有的包组，centos7系统如果最小化安装，则可以不用写这2行 "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/technology/centos/custom-centos-iso/",
	"title": "自定义centos镜像",
	"tags": [],
	"description": "自定义centos镜像",
	"content": "1、下载iso 略\n2、 挂载 mkdir -p centos-7 mkdir -p unpack sudo mount \u0026lt;centos iso\u0026gt; centos-7 rsync -Paz centos-7 unpack sudo umount centos-7 3、定制 iso文件都在 unpack文件夹移步进去操作\n引导文件： isolinux/isolinux.cfg\n添加引导，使用自定义kickstart文件\nlabel 360dns system menu label Install CentOS 7 on S^ystem 360 kernel vmlinuz append initrd=initrd.img inst.stage2=hd:LABEL=AE-CentOS-7 quiet inst.ks=cdrom:/dev/cdrom:/360dns.cfg 定制图标和文字 东西都在 squashfs.img 系统文件里面，需要解压进去 这个liveos是我们安装中使用的系统，将用这个liveos安装实际系统。\n# 安装依赖 yum -y install squashfs-tools # pwd: unpacked/LiveOS/ unsquashfs squashfs.img # 解压后生成 cd squashfs-root/LiveOS/ mkdir tmp sudo mount rootfs.img tmp/ # 图标文件： usr/share/anaconda/pixmaps/sidebar-logo.png  # 或修改其它系统文件，修改完后压缩 # 解除挂载 umount tmp/ cd ../../ # 删除旧的 rm squashfs.img # 压缩 mksquashfs squashfs-root squashfs.img rm -rf squashfs-root 定制安装流程 需自建\nkickstart文件\ncreaterepo -g comps.xml .\nmv repodata/*-comps.xml repodata/comps.xml find repodata -type f ! -name \u0026#39;comps.xml\u0026#39; -exec rm \u0026#39;{}\u0026#39; \\; createrepo -g repodata/comps.xml ./ cd .. genisoimage -joliet-long -V CentOS7-360dns -o CentOS-7-x86_64-360dns.iso -b isolinux/isolinux.bin -c isolinux/boot.cat -no-emul-boot -boot-load-size 4 -boot-info-table -R -J -v -cache-inodes -T -eltorito-alt-boot -e images/efiboot.img -no-emul-boot unpacked implantisomd5 CentOS-7-x86_64-360dns.iso 安装中 文字安装使用 alt + tab 可以切换不同tty窗口 alt + 左右同样可以切换\ntty配置安装中文件 /run/install 日志： /tmp\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/dns/product/future/",
	"title": "发展",
	"tags": [],
	"description": "DNS产品发展",
	"content": "内容：  "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/dns/project/monitoring/",
	"title": "监控报警",
	"tags": [],
	"description": "监控报警",
	"content": "Lorem Ipsum.\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/dns/project/",
	"title": "项目",
	"tags": [],
	"description": "DNS项目",
	"content": "内容：  Oauth2  oauth2 对接\n 监控报警  监控报警\n "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/dns/box/local-brain/",
	"title": "本脑安装",
	"tags": [],
	"description": "本地安全大脑安装",
	"content": "1、机器名不能相同 如果机器名相同，请修改成不同机器名 hostname\n2、磁盘创建 为clickhouse创建一个单独的磁盘： 只需要很小即可\nlvcreate -L 30G -n clickhouse-hdd VolGroup00 3、配置文件生成及修改 make gen 后生成的配置文件修改：\n使用v2.7.3版本\n手动修改配置文件： 集群分为master节点和node节点，请分别配置\ninventories/gen/hosts\n[master] ip1 [node] ip2 [all:children] master node 配置文件复制 目录 inventories/gen/host_vars host1.yml 复制出 host2.yml\n更改配置文件参数：\n## clickhouse hdd使用磁盘 ## 禁止初始化eth0网络 pandora_local_test: true pandora_k3s_clustered: true 交换kafka和clickhouse的磁盘分区配置\n4、安装dns # 初始化机器yum kernel等 make install-machine # 初始化网络 磁盘 make install-prepare-machine # 下载镜像 请确认docker运行中 注意： 若安装机器有网，且镜像源为外网，可跳过这不执行 make install-prepare-image # 安装k3s make install-k3s # 安装 node exporter make install-exporter # 安装 dns应用 make install-dns 5、为dns打上集群化补丁 这一节的所有操作请到master节点上执行；\n安装好后需要修改数据库应用的nodeselecter字段，用于固定应用到指定节点上。\nkubectl get pod -owide | grep -v svclb 确定数据库应用全部是running状态, 以上会输出所有应用所在的node。将用于后面的应用补丁\n# 获取所有安装应用 kubectl get deploy # 更新box-postgres,box-prometheus,box-kafka,box-grafana,box-clickhouse应用 脚本生成：\ncat \u0026gt; patch.sh \u0026lt;\u0026lt;EOF #!/bin/bash echo \u0026#34;update \\$1...\u0026#34; INSTANCE=\\$(kubectl get deploy \\$1 -o jsonpath=\u0026#34;{\\$.spec.selector.matchLabels[\u0026#39;app\\.kubernetes\\.io/name\u0026#39;]}\u0026#34;) if [ -z \\$INSTANCE ]; then echo \u0026#34;no instance find\u0026#34; exit 1 fi NODE_NAME=\\$(kubectl get po -l app.kubernetes.io/name=\\$INSTANCE -owide | grep -v NAME | awk \u0026#39;{print \\$7}\u0026#39; | head -n1) if [ -z \\$NODE_NAME ]; then echo \u0026#34;no node find\u0026#34; exit 1 fi echo \u0026#34;set \\$1 node: \\$NODE_NAME\u0026#34; kubectl scale deployment \\$1 --replicas=0 sleep 2 kubectl patch deployment \\$1 --patch \u0026#34;{\\\u0026#34;spec\\\u0026#34;: {\\\u0026#34;template\\\u0026#34;: {\\\u0026#34;spec\\\u0026#34;: {\\\u0026#34;nodeSelector\\\u0026#34;: {\\\u0026#34;k3s.io/hostname\\\u0026#34;:\\\u0026#34;\\$NODE_NAME\\\u0026#34; }}}}}\u0026#34; kubectl scale deployment \\$1 --replicas=1 EOF 添加权限：\nchmod +x patch.sh 为应用打补丁,一个一个更新： 为应用 box-prometheus, box-kafka, box-postgres, box-grafana, box-clickhouse\n# eg. 以box-prometheus 为例 ./patch.sh box-prometheus #确认应用替换成功, running状态 kubectl get po -l app.kubernetes.io/name=prometheus -owide 前端应用调整为两个节点，这样每个节点都能直接访问：\nkubectl scale deployment box-web --replicas=2 6、更新初始化license数据 make install-data 7、其它事项 这将修改root密码，若不需要请不要执行下面命令\nmake collect-info coredns 项目需要更改配置文件 kafka 需要更改配置文件，支持集群外对接\ncoredns 配置文件：\nFIREWALL_HTTP_TOKEN: kKn9UxKilZ2dXkkAXvU1OFWrbLgZHl FIREWALL_INPUT_KAFKA_BROKERS: box-kafka.default.svc.cluster.local:9092 FIREWALL_INPUT_KAFKA_TOPIC: dns_gb_topic FIREWALL_KAFKA_BROKERS: box-kafka.default.svc.cluster.local:9092 FIREWALL_OUTPUT_KAFKA_BROKERS: box-kafka.default.svc.cluster.local:9092 FIREWALL_OUTPUT_KAFKA_TOPIC: event_dns FIREWALL_POSTGRES_URL: light:light@box-postgres.default.svc.cluster.local:5432/light FIREWALL_WORK_MODE: brain "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/basics/",
	"title": "Basics",
	"tags": [],
	"description": "",
	"content": "Chapter 1 Basics Discover what this Hugo theme is all about and the core-concepts behind it.\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/basics/requirements/",
	"title": "Requirements",
	"tags": [],
	"description": "",
	"content": "Thanks to the simplicity of Hugo, this page is as empty as this theme needs requirements.\nJust download latest version of Hugo binary (\u0026amp;gt; 0.25) for your OS (Windows, Linux, Mac) : it\u0026rsquo;s that simple.\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/",
	"title": "Shortcodes",
	"tags": [],
	"description": "",
	"content": "Hugo uses Markdown for its simple content format. However, there are a lot of things that Markdown doesn’t support well. You could use pure HTML to expand possibilities.\nBut this happens to be a bad idea. Everyone uses Markdown because it\u0026rsquo;s pure and simple to read even non-rendered. You should avoid HTML to keep it as simple as possible.\nTo avoid this limitations, Hugo created shortcodes . A shortcode is a simple snippet inside a page.\nHugo-theme-learn provides multiple shortcodes on top of existing ones.\n Attachments  The Attachments shortcode displays a list of files attached to a page.\n Attachments (Pièces jointes)  The Attachments shortcode displays a list of files attached to a page.\n Button  Nice buttons on your page.\n Button (Bouton)  De beaux boutons sur votre page.\n Children  List the child pages of a page\n Expand  Displays an expandable/collapsible section of text on your page\n Expand  Affiche une section de texte qui se plie et se déplie\n Mermaid  Generation of diagram and flowchart from text in a similar manner as markdown\n Mermaid  Génération de diagrammes à partir de texte, dans le même style que Markdown\n Notice  Disclaimers to help you structure your page\n Notice  Message pour vous aider à structurer votre contenu\n Site param  Get value of site params variables in your page.\n Site param  Afficher la valeur d\u0026#39;un paramètre global du site dans votre page\n "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/basics/installation/",
	"title": "Installation",
	"tags": [],
	"description": "",
	"content": "The following steps are here to help you initialize your new website. If you don\u0026rsquo;t know Hugo at all, we strongly suggest you learn more about it by following this great documentation for beginners .\nCreate your project Hugo provides a new command to create a new website.\nhugo new site \u0026lt;new_project\u0026gt; Install the theme Install the Hugo-theme-learn theme by following this documentation This theme\u0026rsquo;s repository is: https://github.com/matcornic/hugo-theme-learn.git\nAlternatively, you can download the theme as .zip file and extract it in the themes directory\nBasic configuration When building the website, you can set a theme by using --theme option. However, we suggest you modify the configuration file (config.toml) and set the theme as the default. You can also add the [outputs] section to enable the search functionality.\n# Change the default theme to be use when building the site with Hugo theme = \u0026#34;hugo-theme-learn\u0026#34; # For search functionality [outputs] home = [ \u0026#34;HTML\u0026#34;, \u0026#34;RSS\u0026#34;, \u0026#34;JSON\u0026#34;] Create your first chapter page Chapters are pages that contain other child pages. It has a special layout style and usually just contains a chapter name, the title and a brief abstract of the section.\n### Chapter 1 # Basics Discover what this Hugo theme is all about and the core concepts behind it. renders as\nHugo-theme-learn provides archetypes to create skeletons for your website. Begin by creating your first chapter page with the following command\nhugo new --kind chapter basics/_index.md By opening the given file, you should see the property chapter=true on top, meaning this page is a chapter.\nBy default all chapters and pages are created as a draft. If you want to render these pages, remove the property draft: true from the metadata.\nCreate your first content pages Then, create content pages inside the previously created chapter. Here are two ways to create content in the chapter:\nhugo new basics/first-content.md hugo new basics/second-content/_index.md Feel free to edit thoses files by adding some sample content and replacing the title value in the beginning of the files.\nLaunching the website locally Launch by using the following command:\nhugo serve Go to http://localhost:1313\nYou should notice three things:\n You have a left-side Basics menu, containing two submenus with names equal to the title properties in the previously created files. The home page explains how to customize it by following the instructions. When you run hugo serve, when the contents of the files change, the page automatically refreshes with the changes. Neat!  Build the website When your site is ready to deploy, run the following command:\nhugo A public folder will be generated, containing all static content and assets for your website. It can now be deployed on any web server.\nThis website can be automatically published and hosted with Netlify (Read more about Automated HUGO deployments with Netlify ). Alternatively, you can use Github pages  "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/basics/configuration/",
	"title": "Configuration",
	"tags": [],
	"description": "",
	"content": "Global site parameters On top of Hugo global configuration , Hugo-theme-learn lets you define the following parameters in your config.toml (here, values are default).\nNote that some of these parameters are explained in details in other sections of this documentation.\n[params] # Prefix URL to edit current page. Will display an \u0026#34;Edit this page\u0026#34; button on top right hand corner of every page. # Useful to give opportunity to people to create merge request for your doc. # See the config.toml file from this documentation site to have an example. editURL = \u0026#34;\u0026#34; # Author of the site, will be used in meta information author = \u0026#34;\u0026#34; # Description of the site, will be used in meta information description = \u0026#34;\u0026#34; # Shows a checkmark for visited pages on the menu showVisitedLinks = false # Disable search function. It will hide search bar disableSearch = false # Javascript and CSS cache are automatically busted when new version of site is generated. # Set this to true to disable this behavior (some proxies don\u0026#39;t handle well this optimization) disableAssetsBusting = false # Set this to true to disable copy-to-clipboard button for inline code. disableInlineCopyToClipBoard = false # A title for shortcuts in menu is set by default. Set this to true to disable it. disableShortcutsTitle = false # If set to false, a Home button will appear below the search bar on the menu. # It is redirecting to the landing page of the current language if specified. (Default is \u0026#34;/\u0026#34;) disableLandingPageButton = true # When using mulitlingual website, disable the switch language button. disableLanguageSwitchingButton = false # Hide breadcrumbs in the header and only show the current page title disableBreadcrumb = true # If set to true, prevents Hugo from including the mermaid module if not needed (will reduce load times and traffic) disableMermaid = false # Specifies the remote location of the mermaid js customMermaidURL = \u0026#34;https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js\u0026#34; # Hide Next and Previous page buttons normally displayed full height beside content disableNextPrev = true # Order sections in menu by \u0026#34;weight\u0026#34; or \u0026#34;title\u0026#34;. Default to \u0026#34;weight\u0026#34; ordersectionsby = \u0026#34;weight\u0026#34; # Change default color scheme with a variant one. Can be \u0026#34;red\u0026#34;, \u0026#34;blue\u0026#34;, \u0026#34;green\u0026#34;. themeVariant = \u0026#34;\u0026#34; # Provide a list of custom css files to load relative from the `static/` folder in the site root. custom_css = [\u0026#34;css/foo.css\u0026#34;, \u0026#34;css/bar.css\u0026#34;] # Change the title separator. Default to \u0026#34;::\u0026#34;. titleSeparator = \u0026#34;-\u0026#34; Activate search If not already present, add the follow lines in the same config.toml file.\n[outputs] home = [ \u0026#34;HTML\u0026#34;, \u0026#34;RSS\u0026#34;, \u0026#34;JSON\u0026#34;] Learn theme uses the last improvement available in hugo version 20+ to generate a json index file ready to be consumed by lunr.js javascript search engine.\n Hugo generate lunrjs index.json at the root of public folder. When you build the site with hugo server, hugo generates it internally and of course it doesn’t show up in the filesystem\n Mermaid The mermaid configuration parameters can also be set on a specific page. In this case, the global parameter would be overwritten by the local one.\n Example:\nMermaid is globally disabled. By default it won\u0026rsquo;t be loaded by any page.\nOn page \u0026ldquo;Architecture\u0026rdquo; you need a class diagram. You can set the mermaid parameters locally to only load mermaid on this page (not on the others).\n You also can disable mermaid for specific pages while globally enabled.\nHome Button Configuration If the disableLandingPage option is set to false, an Home button will appear on the left menu. It is an alternative for clicking on the logo. To edit the appearance, you will have to configure two parameters for the defined languages:\n[Lanugages] [Lanugages.en] ... landingPageURL = \u0026#34;/en\u0026#34; landingPageName = \u0026#34;\u0026lt;i class=\u0026#39;fas fa-home\u0026#39;\u0026gt;\u0026lt;/i\u0026gt; Redirect to Home\u0026#34; ... [Lanugages.fr] ... landingPageURL = \u0026#34;/fr\u0026#34; landingPageName = \u0026#34;\u0026lt;i class=\u0026#39;fas fa-home\u0026#39;\u0026gt;\u0026lt;/i\u0026gt; Accueil\u0026#34; ... If those params are not configured for a specific language, they will get their default values:\nlandingPageURL = \u0026#34;/\u0026#34; landingPageName = \u0026#34;\u0026lt;i class=\u0026#39;fas fa-home\u0026#39;\u0026gt;\u0026lt;/i\u0026gt; Home\u0026#34; The home button is going to looks like this:\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/basics/style-customization/",
	"title": "Style customization",
	"tags": [],
	"description": "",
	"content": "Hugo-theme-learn has been built to be as configurable as possible by defining multiple partials In themes/hugo-theme-learn/layouts/partials/, you will find all the partials defined for this theme. If you need to overwrite something, don\u0026rsquo;t change the code directly. Instead follow this page . You\u0026rsquo;d create a new partial in the layouts/partials folder of your local project. This partial will have the priority.\nThis theme defines the following partials :\n header: the header of the content page (contains the breadcrumbs). Not meant to be overwritten custom-header: custom headers in page. Meant to be overwritten when adding CSS imports. Don\u0026rsquo;t forget to include style HTML tag directive in your file footer: the footer of the content page (contains the arrows). Not meant to be overwritten custom-footer: custom footer in page. Meant to be overwritten when adding Javacript. Don\u0026rsquo;t forget to include javascript HTML tag directive in your file favicon: the favicon logo: the logo, on top left hand corner. meta: HTML meta tags, if you want to change default behavior menu: left menu. Not meant to be overwritten menu-footer: footer of the the left menu search: search box toc: table of contents  Change the logo Create a new file in layouts/partials/ named logo.html. Then write any HTML you want. You could use an img HTML tag and reference an image created under the static folder, or you could paste a SVG definition !\nThe size of the logo will adapt automatically\n Change the favicon If your favicon is a png, just drop off your image in your local static/images/ folder and name it favicon.png\nIf you need to change this default behavior, create a new file in layouts/partials/ named favicon.html. Then write something like this:\n\u0026lt;link rel=\u0026#34;shortcut icon\u0026#34; href=\u0026#34;/images/favicon.png\u0026#34; type=\u0026#34;image/x-icon\u0026#34; /\u0026gt; Change default colors Hugo Learn theme let you choose between 3 native color scheme variants, but feel free to add one yourself ! Default color scheme is based on Grav Learn Theme .\nRed variant [params] # Change default color scheme with a variant one. Can be \u0026#34;red\u0026#34;, \u0026#34;blue\u0026#34;, \u0026#34;green\u0026#34;. themeVariant = \u0026#34;red\u0026#34; Blue variant [params] # Change default color scheme with a variant one. Can be \u0026#34;red\u0026#34;, \u0026#34;blue\u0026#34;, \u0026#34;green\u0026#34;. themeVariant = \u0026#34;blue\u0026#34; Green variant [params] # Change default color scheme with a variant one. Can be \u0026#34;red\u0026#34;, \u0026#34;blue\u0026#34;, \u0026#34;green\u0026#34;. themeVariant = \u0026#34;green\u0026#34; \u0026lsquo;Yours‘ variant First, create a new CSS file in your local static/css folder prefixed by theme (e.g. with mine theme static/css/theme-mine.css). Copy the following content and modify colors in CSS variables.\n:root{ --MAIN-TEXT-color:#323232; /* Color of text by default */ --MAIN-TITLES-TEXT-color: #5e5e5e; /* Color of titles h2-h3-h4-h5 */ --MAIN-LINK-color:#1C90F3; /* Color of links */ --MAIN-LINK-HOVER-color:#167ad0; /* Color of hovered links */ --MAIN-ANCHOR-color: #1C90F3; /* color of anchors on titles */ --MENU-HEADER-BG-color:#1C90F3; /* Background color of menu header */ --MENU-HEADER-BORDER-color:#33a1ff; /*Color of menu header border */ --MENU-SEARCH-BG-color:#167ad0; /* Search field background color (by default borders + icons) */ --MENU-SEARCH-BOX-color: #33a1ff; /* Override search field border color */ --MENU-SEARCH-BOX-ICONS-color: #a1d2fd; /* Override search field icons color */ --MENU-SECTIONS-ACTIVE-BG-color:#20272b; /* Background color of the active section and its childs */ --MENU-SECTIONS-BG-color:#252c31; /* Background color of other sections */ --MENU-SECTIONS-LINK-color: #ccc; /* Color of links in menu */ --MENU-SECTIONS-LINK-HOVER-color: #e6e6e6; /* Color of links in menu, when hovered */ --MENU-SECTION-ACTIVE-CATEGORY-color: #777; /* Color of active category text */ --MENU-SECTION-ACTIVE-CATEGORY-BG-color: #fff; /* Color of background for the active category (only) */ --MENU-VISITED-color: #33a1ff; /* Color of \u0026#39;page visited\u0026#39; icons in menu */ --MENU-SECTION-HR-color: #20272b; /* Color of \u0026lt;hr\u0026gt; separator in menu */ } body { color: var(--MAIN-TEXT-color) !important; } textarea:focus, input[type=\u0026#34;email\u0026#34;]:focus, input[type=\u0026#34;number\u0026#34;]:focus, input[type=\u0026#34;password\u0026#34;]:focus, input[type=\u0026#34;search\u0026#34;]:focus, input[type=\u0026#34;tel\u0026#34;]:focus, input[type=\u0026#34;text\u0026#34;]:focus, input[type=\u0026#34;url\u0026#34;]:focus, input[type=\u0026#34;color\u0026#34;]:focus, input[type=\u0026#34;date\u0026#34;]:focus, input[type=\u0026#34;datetime\u0026#34;]:focus, input[type=\u0026#34;datetime-local\u0026#34;]:focus, input[type=\u0026#34;month\u0026#34;]:focus, input[type=\u0026#34;time\u0026#34;]:focus, input[type=\u0026#34;week\u0026#34;]:focus, select[multiple=multiple]:focus { border-color: none; box-shadow: none; } h2, h3, h4, h5 { color: var(--MAIN-TITLES-TEXT-color) !important; } a { color: var(--MAIN-LINK-color); } .anchor { color: var(--MAIN-ANCHOR-color); } a:hover { color: var(--MAIN-LINK-HOVER-color); } #sidebar ul li.visited \u0026gt; a .read-icon { color: var(--MENU-VISITED-color); } #body a.highlight:after { display: block; content: \u0026#34;\u0026#34;; height: 1px; width: 0%; -webkit-transition: width 0.5s ease; -moz-transition: width 0.5s ease; -ms-transition: width 0.5s ease; transition: width 0.5s ease; background-color: var(--MAIN-LINK-HOVER-color); } #sidebar { background-color: var(--MENU-SECTIONS-BG-color); } #sidebar #header-wrapper { background: var(--MENU-HEADER-BG-color); color: var(--MENU-SEARCH-BOX-color); border-color: var(--MENU-HEADER-BORDER-color); } #sidebar .searchbox { border-color: var(--MENU-SEARCH-BOX-color); background: var(--MENU-SEARCH-BG-color); } #sidebar ul.topics \u0026gt; li.parent, #sidebar ul.topics \u0026gt; li.active { background: var(--MENU-SECTIONS-ACTIVE-BG-color); } #sidebar .searchbox * { color: var(--MENU-SEARCH-BOX-ICONS-color); } #sidebar a { color: var(--MENU-SECTIONS-LINK-color); } #sidebar a:hover { color: var(--MENU-SECTIONS-LINK-HOVER-color); } #sidebar ul li.active \u0026gt; a { background: var(--MENU-SECTION-ACTIVE-CATEGORY-BG-color); color: var(--MENU-SECTION-ACTIVE-CATEGORY-color) !important; } #sidebar hr { border-color: var(--MENU-SECTION-HR-color); } Then, set the themeVariant value with the name of your custom theme file. That\u0026rsquo;s it !\n[params] # Change default color scheme with a variant one. Can be \u0026#34;red\u0026#34;, \u0026#34;blue\u0026#34;, \u0026#34;green\u0026#34;. themeVariant = \u0026#34;mine\u0026#34; "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/",
	"title": "示例",
	"tags": [],
	"description": "",
	"content": "Lorem Ipsum.\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/about/",
	"title": "关于",
	"tags": [],
	"description": "",
	"content": "内容：  First  Insert Lead paragraph here. New Cool Posts  "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/dns/my-first-post/",
	"title": "关于",
	"tags": [],
	"description": "",
	"content": "This is the content of the post. This is the second sentence of the post.\nA bunch of code here  "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/",
	"title": "athena",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/about/first/",
	"title": "First",
	"tags": [],
	"description": "",
	"content": "Insert Lead paragraph here.\nNew Cool Posts "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/ops/first/",
	"title": "First",
	"tags": [],
	"description": "",
	"content": "This is the content of the post. This is the second sentence of the post.\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/attachments/",
	"title": "Attachments",
	"tags": [],
	"description": "The Attachments shortcode displays a list of files attached to a page.",
	"content": "The Attachments shortcode displays a list of files attached to a page.\n  Attachments   BachGavotteShort.mp3  (357 kb)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 kb)   adivorciarsetoca00cape.pdf  (361 kb)   hugo.png  (17 kb)   movieselectricsheep-flock-244-32500-2.mp4  (340 kb)    Usage The shortcurt lists files found in a specific folder. Currently, it support two implementations for pages\n  If your page is a markdown file, attachements must be placed in a folder named like your page and ending with .files.\n  content  _index.md page.files  attachment.pdf   page.md       If your page is a folder, attachements must be placed in a nested \u0026lsquo;files\u0026rsquo; folder.\n  content  _index.md page  index.md files  attachment.pdf           Be aware that if you use a multilingual website, you will need to have as many folders as languages.\nThat\u0026rsquo;s all!\nParameters    Parameter Default Description     title \u0026ldquo;Attachments\u0026rdquo; List\u0026rsquo;s title   style \u0026quot;\u0026quot; Choose between \u0026ldquo;orange\u0026rdquo;, \u0026ldquo;grey\u0026rdquo;, \u0026ldquo;blue\u0026rdquo; and \u0026ldquo;green\u0026rdquo; for nice style   pattern \u0026ldquo;.*\u0026rdquo; A regular expressions, used to filter the attachments by file name. The pattern parameter value must be regular expressions .    For example:\n To match a file suffix of \u0026lsquo;jpg\u0026rsquo;, use *.jpg (not *.jpg). To match file names ending in \u0026lsquo;jpg\u0026rsquo; or \u0026lsquo;png\u0026rsquo;, use .*(jpg|png)  Examples List of attachments ending in pdf or mp4 {{%attachments title=\u0026quot;Related files\u0026quot; pattern=\u0026quot;.*(pdf|mp4)\u0026quot;/%}}  renders as\n  Related files   Carroll_AliceAuPaysDesMerveilles.pdf  (175 kb)   adivorciarsetoca00cape.pdf  (361 kb)   movieselectricsheep-flock-244-32500-2.mp4  (340 kb)    Colored styled box {{%attachments style=\u0026quot;orange\u0026quot; /%}}  renders as\n  Attachments   BachGavotteShort.mp3  (357 kb)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 kb)   adivorciarsetoca00cape.pdf  (361 kb)   hugo.png  (17 kb)   movieselectricsheep-flock-244-32500-2.mp4  (340 kb)    {{%attachments style=\u0026quot;grey\u0026quot; /%}}  renders as\n  Attachments   BachGavotteShort.mp3  (357 kb)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 kb)   adivorciarsetoca00cape.pdf  (361 kb)   hugo.png  (17 kb)   movieselectricsheep-flock-244-32500-2.mp4  (340 kb)    {{%attachments style=\u0026quot;blue\u0026quot; /%}}  renders as\n  Attachments   BachGavotteShort.mp3  (357 kb)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 kb)   adivorciarsetoca00cape.pdf  (361 kb)   hugo.png  (17 kb)   movieselectricsheep-flock-244-32500-2.mp4  (340 kb)    {{%attachments style=\u0026quot;green\u0026quot; /%}}  renders as\n  Attachments   BachGavotteShort.mp3  (357 kb)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 kb)   adivorciarsetoca00cape.pdf  (361 kb)   hugo.png  (17 kb)   movieselectricsheep-flock-244-32500-2.mp4  (340 kb)    "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/attachments.fr/",
	"title": "Attachments (Pièces jointes)",
	"tags": [],
	"description": "The Attachments shortcode displays a list of files attached to a page.",
	"content": "Le shortcode Attachments affiche une liste de pièces jointes d\u0026rsquo;une page.\n  Attachments   BachGavotteShort.mp3  (357 kb)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 kb)   adivorciarsetoca00cape.pdf  (361 kb)   hugo.png  (17 kb)   movieselectricsheep-flock-244-32500-2.mp4  (340 kb)    Utilisation Le shortcode affiche la liste de fichiers trouvés dans un dossier spécifique A l\u0026rsquo;heure actuelle, il supporte deux implémentations\n  Si votre page est un fichier Markdown, les pièces jointes doivent être placée dans un dossier nommé comme le nom de la page et suffixé par .files.\n  content  _index.md page.files  attachment.pdf   page.md       Si votre page est un dossier, les pièces jointes doivent être placées dans un dossier fils \u0026lsquo;files\u0026rsquo;.\n  content  _index.md page  index.md files  attachment.pdf           Attention, si votre site est multi-langue, vous devrez avec autant de dossier qu\u0026rsquo;il y a de langues.\nC\u0026rsquo;est tout !\nParamètres    Paramètre Défaut Description     title \u0026ldquo;Pièces jointes\u0026rdquo; Titre de la liste   style \u0026quot;\u0026quot; Choisir entre \u0026ldquo;orange\u0026rdquo;, \u0026ldquo;grey\u0026rdquo;, \u0026ldquo;blue\u0026rdquo; et \u0026ldquo;green\u0026rdquo; pour un style plus sympa   pattern \u0026ldquo;.*\u0026rdquo; Une expression régulière, utilisée pour filtrer les pièces jointes par leur nom de fichier. Le paramètre pattern doit être une expression régulière .    Par exemple:\n Pour trouver les fichiers avec le suffixe \u0026lsquo;jpg\u0026rsquo;, utilisez *.jpg (pas *.jpg). Pour trouver les fichiers avec les suffixe \u0026lsquo;jpg\u0026rsquo; ou \u0026lsquo;png\u0026rsquo;, utilisez .*(jpg|png)  Exemples Lister les pièces jointes de type pdf ou mp4 {{%attachments title=\u0026quot;Fichiers associés\u0026quot; pattern=\u0026quot;.*(pdf|mp4)\u0026quot;/%}}  s\u0026rsquo;affiche comme\n  Fichiers associés   Carroll_AliceAuPaysDesMerveilles.pdf  (175 kb)   adivorciarsetoca00cape.pdf  (361 kb)   movieselectricsheep-flock-244-32500-2.mp4  (340 kb)    Modifier le style {{%attachments style=\u0026quot;orange\u0026quot; /%}}  s\u0026rsquo;affiche comme\n  Attachments   BachGavotteShort.mp3  (357 kb)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 kb)   adivorciarsetoca00cape.pdf  (361 kb)   hugo.png  (17 kb)   movieselectricsheep-flock-244-32500-2.mp4  (340 kb)    {{%attachments style=\u0026quot;grey\u0026quot; /%}}  s\u0026rsquo;affiche comme\n  Attachments   BachGavotteShort.mp3  (357 kb)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 kb)   adivorciarsetoca00cape.pdf  (361 kb)   hugo.png  (17 kb)   movieselectricsheep-flock-244-32500-2.mp4  (340 kb)    {{%attachments style=\u0026quot;blue\u0026quot; /%}}  s\u0026rsquo;affiche comme\n  Attachments   BachGavotteShort.mp3  (357 kb)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 kb)   adivorciarsetoca00cape.pdf  (361 kb)   hugo.png  (17 kb)   movieselectricsheep-flock-244-32500-2.mp4  (340 kb)    {{%attachments style=\u0026quot;green\u0026quot; /%}}  s\u0026rsquo;affiche comme\n  Attachments   BachGavotteShort.mp3  (357 kb)   Carroll_AliceAuPaysDesMerveilles.pdf  (175 kb)   adivorciarsetoca00cape.pdf  (361 kb)   hugo.png  (17 kb)   movieselectricsheep-flock-244-32500-2.mp4  (340 kb)    "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/button/",
	"title": "Button",
	"tags": [],
	"description": "Nice buttons on your page.",
	"content": "A button is a just a clickable button with optional icon.\n{{% button href=\u0026quot;https://getgrav.org/\u0026quot; %}}Get Grav{{% /button %}} {{% button href=\u0026quot;https://getgrav.org/\u0026quot; icon=\u0026quot;fas fa-download\u0026quot; %}}Get Grav with icon{{% /button %}} {{% button href=\u0026quot;https://getgrav.org/\u0026quot; icon=\u0026quot;fas fa-download\u0026quot; icon-position=\u0026quot;right\u0026quot; %}}Get Grav with icon right{{% /button %}}  Get Grav   Get Grav with icon  Get Grav with icon right   "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/button.fr/",
	"title": "Button (Bouton)",
	"tags": [],
	"description": "De beaux boutons sur votre page.",
	"content": "Le shortcode button est simplement un bouton cliquable avec une icône optionnelle.\n{{% button href=\u0026quot;https://getgrav.org/\u0026quot; %}}Téléchargez Grav{{% /button %}} {{% button href=\u0026quot;https://getgrav.org/\u0026quot; icon=\u0026quot;fas fa-download\u0026quot; %}}Téléchargez Grav avec icône{{% /button %}} {{% button href=\u0026quot;https://getgrav.org/\u0026quot; icon=\u0026quot;fas fa-download\u0026quot; icon-position=\u0026quot;right\u0026quot; %}}Téléchargez Grav avec icône à droite{{% /button %}}  Téléchargez Grav   Téléchargez Grav avec icône  Téléchargez Grav avec icône à droite   "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/children/",
	"title": "Children",
	"tags": [],
	"description": "List the child pages of a page",
	"content": "Use the children shortcode to list the child pages of a page and the further descendants (children\u0026rsquo;s children). By default, the shortcode displays links to the child pages.\nUsage    Parameter Default Description     page current Specify the page name (section name) to display children for   style \u0026ldquo;li\u0026rdquo; Choose the style used to display descendants. It could be any HTML tag name   showhidden \u0026ldquo;false\u0026rdquo; When true, child pages hidden from the menu will be displayed   description \u0026ldquo;false\u0026rdquo; Allows you to include a short text under each page in the list. When no description exists for the page, children shortcode takes the first 70 words of your content. Read more info about summaries on gohugo.io    depth 1 Enter a number to specify the depth of descendants to display. For example, if the value is 2, the shortcode will display 2 levels of child pages. Tips: set 999 to get all descendants   sort none Sort children by Weight - to sort on menu order, Name - to sort alphabetically on menu label, Identifier - to sort alphabetically on identifier set in frontmatter, and URL - to sort by URL    Demo {{% children %}}   page 1   page 2   page 3   page test   page test   {{% children description=\u0026quot;true\u0026quot; %}}   page 1  This is a demo child page\n page 2  Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n page 3  This is a demo child page\n page test  This is a page test\n page test  Ceci est une page test\n {{% children depth=\u0026quot;3\u0026quot; showhidden=\u0026quot;true\u0026quot; %}}   page 1    page 1-1    page 1-1-1     page 2    page test 3     page test 3      page 3     page 4     page test     page test     {{% children style=\u0026quot;h2\u0026quot; depth=\u0026quot;3\u0026quot; description=\u0026quot;true\u0026quot; %}}   page 1  This is a demo child page\n page 1-1  This is a demo child page\n page 1-1-1  This is a demo child page\n page 2  Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n page test 3  This is a page test\n page test 3  Ceci est une page test\n page 3  This is a demo child page\n page test  This is a page test\n page test  Ceci est une page test\n {{% children style=\u0026quot;div\u0026quot; depth=\u0026quot;999\u0026quot; %}}   page 1   page 1-1   page 1-1-1   page 1-1-1-1   page 1-1-1-1-1   page 2   page test 3   page test 3   page 3   page test   page test   "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/expand/",
	"title": "Expand",
	"tags": [],
	"description": "Displays an expandable/collapsible section of text on your page",
	"content": "The Expand shortcode displays an expandable/collapsible section of text on your page. Here is an example\n  Expand me...   Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n  Usage this shortcode takes exactly one optional parameter to define the text that appears next to the expand/collapse icon. (default is \u0026ldquo;Expand me\u0026hellip;\u0026quot;)\n{{%expand \u0026quot;Is this learn theme rocks ?\u0026quot; %}}Yes !.{{% /expand%}}    Is this learn theme rocks ?   Yes !   Demo {{%expand%}} Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. {{% /expand%}}    Expand me...   Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n  "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/expand.fr/",
	"title": "Expand",
	"tags": [],
	"description": "Affiche une section de texte qui se plie et se déplie",
	"content": "Le shortcode Expand affiche une section de texte qui se plie et se déplie. Ci-dessous un exemple.\n  Expand me...   Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n  Utilisation Ce shortcode prends exactement un paramètre optionel pour définir le texte à côté de l\u0026rsquo;icone. (valeur par défaut est \u0026ldquo;Déroulez-moi\u0026hellip;\u0026quot;)\n{{%expand \u0026quot;Est-ce que ce thème envoie du pâté ?\u0026quot; %}}Oui !.{{% /expand%}}    Est-ce que ce thème envoie du pâté ?   Oui !   Demo {{%expand%}} Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. {{% /expand%}}    Expand me...   Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n  "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/mermaid/",
	"title": "Mermaid",
	"tags": [],
	"description": "Generation of diagram and flowchart from text in a similar manner as markdown",
	"content": "Mermaid is a library helping you to generate diagram and flowcharts from text, in a similar manner as Markdown.\nJust insert your mermaid code in the mermaid shortcode and that\u0026rsquo;s it.\nFlowchart example {{\u0026lt;mermaid align=\u0026quot;left\u0026quot;\u0026gt;}} graph LR; A[Hard edge] --\u0026gt;|Link text| B(Round edge) B --\u0026gt; C{Decision} C --\u0026gt;|One| D[Result one] C --\u0026gt;|Two| E[Result two] {{\u0026lt; /mermaid \u0026gt;}}  renders as\ngraph LR; A[Hard edge] --|Link text| B(Round edge) B -- C{Decision} C --|One| D[Result one] C --|Two| E[Result two]  Sequence example {{\u0026lt; mermaid \u0026gt;}} sequenceDiagram participant Alice participant Bob Alice-\u0026gt;\u0026gt;John: Hello John, how are you? loop Healthcheck John-\u0026gt;John: Fight against hypochondria end Note right of John: Rational thoughts \u0026lt;br/\u0026gt;prevail... John--\u0026gt;Alice: Great! John-\u0026gt;Bob: How about you? Bob--\u0026gt;John: Jolly good! {{\u0026lt; /mermaid \u0026gt;}}  renders as\nsequenceDiagram participant Alice participant Bob Alice-John: Hello John, how are you? loop Healthcheck John-John: Fight against hypochondria end Note right of John: Rational thoughts prevail... John--Alice: Great! John-Bob: How about you? Bob--John: Jolly good!  GANTT Example {{\u0026lt; mermaid \u0026gt;}} gantt dateFormat YYYY-MM-DD title Adding GANTT diagram functionality to mermaid section A section Completed task :done, des1, 2014-01-06,2014-01-08 Active task :active, des2, 2014-01-09, 3d Future task : des3, after des2, 5d Future task2 : des4, after des3, 5d section Critical tasks Completed task in the critical line :crit, done, 2014-01-06,24h Implement parser and jison :crit, done, after des1, 2d Create tests for parser :crit, active, 3d Future task in critical line :crit, 5d Create tests for renderer :2d Add to mermaid :1d {{\u0026lt; /mermaid \u0026gt;}}  renders as\ngantt dateFormat YYYY-MM-DD title Adding GANTT diagram functionality to mermaid section A section Completed task :done, des1, 2014-01-06,2014-01-08 Active task :active, des2, 2014-01-09, 3d Future task : des3, after des2, 5d Future task2 : des4, after des3, 5d section Critical tasks Completed task in the critical line :crit, done, 2014-01-06,24h Implement parser and jison :crit, done, after des1, 2d Create tests for parser :crit, active, 3d Future task in critical line :crit, 5d Create tests for renderer :2d Add to mermaid :1d  Class example {{\u0026lt; mermaid \u0026gt;}} classDiagram Class01 \u0026lt;|-- AveryLongClass : Cool Class03 *-- Class04 Class05 o-- Class06 Class07 .. Class08 Class09 --\u0026gt; C2 : Where am i? Class09 --* C3 Class09 --|\u0026gt; Class07 Class07 : equals() Class07 : Object[] elementData Class01 : size() Class01 : int chimp Class01 : int gorilla Class08 \u0026lt;--\u0026gt; C2: Cool label {{\u0026lt; /mermaid \u0026gt;}}  renders as\nclassDiagram Class01 C2 : Where am i? Class09 --* C3 Class09 --| Class07 Class07 : equals() Class07 : Object[] elementData Class01 : size() Class01 : int chimp Class01 : int gorilla Class08  C2: Cool label  Git example {{\u0026lt; mermaid \u0026gt;}} gitGraph: options { \u0026quot;nodeSpacing\u0026quot;: 150, \u0026quot;nodeRadius\u0026quot;: 10 } end commit branch newbranch checkout newbranch commit commit checkout master commit commit merge newbranch {{\u0026lt; /mermaid\u0026gt;}}  renders as\ngitGraph: options { \"nodeSpacing\": 150, \"nodeRadius\": 10 } end commit branch newbranch checkout newbranch commit commit checkout master commit commit merge newbranch  State Diagrams {{\u0026lt; mermaid \u0026gt;}} stateDiagram-v2 open: Open Door closed: Closed Door locked: Locked Door open --\u0026gt; closed: Close closed --\u0026gt; locked: Lock locked --\u0026gt; closed: Unlock closed --\u0026gt; open: Open {{\u0026lt; /mermaid \u0026gt;}}  renders as\nstateDiagram-v2 open: Open Door closed: Closed Door locked: Locked Door open -- closed: Close closed -- locked: Lock locked -- closed: Unlock closed -- open: Open  "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/mermaid.fr/",
	"title": "Mermaid",
	"tags": [],
	"description": "Génération de diagrammes à partir de texte, dans le même style que Markdown",
	"content": "Mermaid est une bibliothèque Javascript qui permet de générer des diagrammes (séquence, état, gantt, etc.) à partir de texte, dans le même style que Markdown.\nInsérer votre code Mermaid dans un shortcode mermaid et c\u0026rsquo;est tout.\nFlowchart example {{\u0026lt;mermaid align=\u0026quot;left\u0026quot;\u0026gt;}} graph LR; A[Bords droits] --\u0026gt;|Lien texte| B(Bords arondis) B --\u0026gt; C{Décision} C --\u0026gt;|Un| D[Résultat un] C --\u0026gt;|Deux| E[Résultat deux] {{\u0026lt; /mermaid \u0026gt;}}  renders as\ngraph LR; A[Bords droits] --|Lien texte| B(Bords arondis) B -- C{Décision} C --|Un| D[Résultat un] C --|Deux| E[Résultat deux]  Sequence example {{\u0026lt;mermaid\u0026gt;}} sequenceDiagram participant Alice participant Bob Alice-\u0026gt;\u0026gt;John: Salut John, comment vas-tu? loop Vérification John-\u0026gt;John: Se bat contre l'hyponcodrie. end Note right of John: Les pensées rationnelles\u0026lt;br/\u0026gt;prédominent... John--\u0026gt;Alice: Super! John-\u0026gt;Bob: Et toi? Bob--\u0026gt;John: Au top! {{\u0026lt; /mermaid \u0026gt;}}  renders as\nsequenceDiagram participant Alice participant Bob Alice-John: Salut John, comment vas-tu? loop Vérification John-John: Se bat contre l'hyponcodrie. end Note right of John: Les pensées rationnellesprédominent... John--Alice: Super! John-Bob: Et toi? Bob--John: Au top!  GANTT Example {{\u0026lt;mermaid\u0026gt;}} gantt dateFormat YYYY-MM-DD title Ajout de la fonctionnalité de GANTT à Mermaid section Une section Tâche complétée :done, des1, 2014-01-06,2014-01-08 Tâche en cours :active, des2, 2014-01-09, 3d Future tâche : des3, after des2, 5d Future tâche 2 : des4, after des3, 5d section Tâches critiques Tâche complétée dans le chemin critique :crit, done, 2014-01-06,24h Implémenter le parser et jison :crit, done, after des1, 2d Créer des tests pour le parser :crit, active, 3d Future tâche dans le chemin critique :crit, 5d Créer des tests pour le renderer :2d Ajout à Mermaid :1d {{\u0026lt; /mermaid \u0026gt;}}  renders as\ngantt dateFormat YYYY-MM-DD title Ajout de la fonctionnalité de GANTT à Mermaid section Une section Tâche complétée :done, des1, 2014-01-06,2014-01-08 Tâche en cours :active, des2, 2014-01-09, 3d Future tâche : des3, after des2, 5d Future tâche 2 : des4, after des3, 5d section Tâches critiques Tâche complétée dans le chemin critique :crit, done, 2014-01-06,24h Implémenter le parser et jison :crit, done, after des1, 2d Créer des tests pour le parser :crit, active, 3d Future tâche dans le chemin critique :crit, 5d Créer des tests pour le renderer :2d Ajout à Mermaid :1d  Class example {{/* mermaid */}} classDiagram Class01 \u0026lt;|-- AveryLongClass : Cool Class03 *-- Class04 Class05 o-- Class06 Class07 .. Class08 Class09 --\u0026gt; C2 : Where am i? Class09 --* C3 Class09 --|\u0026gt; Class07 Class07 : equals() Class07 : Object[] elementData Class01 : size() Class01 : int chimp Class01 : int gorilla Class08 \u0026lt;--\u0026gt; C2: Cool label {{/* /mermaid */}}  renders as\nclassDiagram Class01 C2 : Where am i? Class09 --* C3 Class09 --| Class07 Class07 : equals() Class07 : Object[] elementData Class01 : size() Class01 : int chimp Class01 : int gorilla Class08  C2: Cool label  Git example {{\u0026lt; mermaid \u0026gt;}} gitGraph: options { \u0026quot;nodeSpacing\u0026quot;: 150, \u0026quot;nodeRadius\u0026quot;: 10 } end commit branch newbranch checkout newbranch commit commit checkout master commit commit merge newbranch {{\u0026lt; /mermaid \u0026gt;}}  renders as\ngitGraph: options { \"nodeSpacing\": 150, \"nodeRadius\": 10 } end commit branch newbranch checkout newbranch commit commit checkout master commit commit merge newbranch  State Diagrams {{\u0026lt; mermaid \u0026gt;}} stateDiagram-v2 ouvert: Ouvert clos: Clos fermé: Fermé ouvert --\u0026gt; clos clos --\u0026gt; fermé: Lock fermé --\u0026gt; clos: Unlock clos --\u0026gt; ouvert: Open {{\u0026lt; /mermaid \u0026gt;}}  renders as\nstateDiagram-v2 ouvert: Ouvert clos: Clos fermé: Fermé ouvert -- clos clos -- fermé: Lock fermé -- clos: Unlock clos -- ouvert: Open  "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/notice/",
	"title": "Notice",
	"tags": [],
	"description": "Disclaimers to help you structure your page",
	"content": "The notice shortcode shows 4 types of disclaimers to help you structure your page.\nNote {{% notice note %}} A notice disclaimer {{% /notice %}} renders as\nA notice disclaimer\n Info {{% notice info %}} An information disclaimer {{% /notice %}} renders as\nAn information disclaimer\n Tip {{% notice tip %}} A tip disclaimer {{% /notice %}} renders as\nA tip disclaimer\n Warning {{% notice warning %}} A warning disclaimer {{% /notice %}} renders as\nA warning disclaimer\n "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/notice.fr/",
	"title": "Notice",
	"tags": [],
	"description": "Message pour vous aider à structurer votre contenu",
	"content": "Le shortcode Notice permet d\u0026rsquo;afficher 4 types de message pour vous aider à structurer votre contenu.\nNote {{% notice note %}} Une notice de type *note* {{% /notice %}} s\u0026rsquo;affiche comme\nUne notice de type note\n Info {{% notice info %}} Une notice de type *info* {{% /notice %}} s\u0026rsquo;affiche comme\nUne notice de type info\n Tip {{% notice tip %}} Une notice de type *tip* {{% /notice %}} s\u0026rsquo;affiche comme\nUne notice de type tip\n Warning {{% notice warning %}} Une notice de type *warning* {{% /notice %}} s\u0026rsquo;affiche comme\nUne notice de type warning\n "
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/children/children-1/",
	"title": "page 1",
	"tags": [],
	"description": "This is a demo child page",
	"content": "This is a demo child page\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/children/children-1/children-1-1/",
	"title": "page 1-1",
	"tags": [],
	"description": "This is a demo child page",
	"content": "This is a demo child page\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/children/children-1/children-1-1/children-1-1-1/",
	"title": "page 1-1-1",
	"tags": [],
	"description": "This is a demo child page",
	"content": "This is a demo child page\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/",
	"title": "page 1-1-1-1",
	"tags": [],
	"description": "This is a demo child page",
	"content": "This is a demo child page\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/children-1-1-1-1-1/",
	"title": "page 1-1-1-1-1",
	"tags": [],
	"description": "This is a demo child page",
	"content": "This is a demo child page\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/children/children-2/",
	"title": "page 2",
	"tags": [],
	"description": "",
	"content": "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/children/children-3/",
	"title": "page 3",
	"tags": [],
	"description": "This is a demo child page",
	"content": "This is a demo child page, not displayed in the menu\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/children/children-4/",
	"title": "page 4",
	"tags": [],
	"description": "This is a demo child page",
	"content": "This is a demo child page, not displayed in the menu\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/children/test/",
	"title": "page test",
	"tags": [],
	"description": "This is a page test",
	"content": "This is a test demo child page\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/children/test.fr/",
	"title": "page test",
	"tags": [],
	"description": "Ceci est une page test",
	"content": "Ceci est une page de demo\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/children/children-2/test3/",
	"title": "page test 3",
	"tags": [],
	"description": "This is a page test",
	"content": "This is a test 3 demo child page\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/children/children-2/test3.fr/",
	"title": "page test 3",
	"tags": [],
	"description": "Ceci est une page test",
	"content": "Ceci est une page de demo test 3\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/siteparam/",
	"title": "Site param",
	"tags": [],
	"description": "Get value of site params variables in your page.",
	"content": "siteparam shortcode is used to help you print values of site params.\nFor instance, in this current site, the editURL variable is used in config.toml\n[params] editURL = \u0026#34;https://github.com/matcornic/hugo-theme-learn/edit/master/exampleSite/content/\u0026#34; Use the siteparam shortcode to display its value.\n`editURL` Value : {{% siteparam \u0026quot;editURL\u0026quot; %}} is displayed as\neditURL Value : https://w.src.corp.qihoo.net/dns/athena-book/tree/master/content/\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/example/shortcodes/siteparam.fr/",
	"title": "Site param",
	"tags": [],
	"description": "Afficher la valeur d&#39;un paramètre global du site dans votre page",
	"content": "Les shortcode siteparam est utilisé pour vous aider à afficher des valeurs provenant des paramètres globaux du site.\nPar exemple, dans ce site, le paramètre editURL est utilisé dans le fichier config.toml\n[params] editURL = \u0026#34;https://github.com/matcornic/hugo-theme-learn/edit/master/exampleSite/content/\u0026#34; Utilisez le shortcode siteparam pour affichier sa valeur.\nValeur de `editURL` : {{% siteparam \u0026quot;editURL\u0026quot; %}} s\u0026rsquo;affiche comme\nValeur de editURL : https://w.src.corp.qihoo.net/dns/athena-book/tree/master/content/\n"
},
{
	"uri": "http://athena-book.dns.qihoo.net/en/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]