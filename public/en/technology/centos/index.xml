<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>centos系统 on athena</title>
    <link>http://athena-book.dns.qihoo.net/en/technology/centos/</link>
    <description>Recent content in centos系统 on athena</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Mon, 01 Mar 2021 15:06:15 +0800</lastBuildDate><atom:link href="http://athena-book.dns.qihoo.net/en/technology/centos/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Comps</title>
      <link>http://athena-book.dns.qihoo.net/en/technology/centos/comps/</link>
      <pubDate>Sun, 11 Apr 2021 21:30:49 +0800</pubDate>
      
      <guid>http://athena-book.dns.qihoo.net/en/technology/centos/comps/</guid>
      <description>comps.xml rpm包仓库配置文件
ref:
https://tldp.org/HOWTO/RedHat-CD-HOWTO/comps-file.html https://flylib.com/books/en/1.362.1.42/1/</description>
    </item>
    
    <item>
      <title>Rpmbuild</title>
      <link>http://athena-book.dns.qihoo.net/en/technology/centos/rpmbuild/</link>
      <pubDate>Sun, 11 Apr 2021 20:29:47 +0800</pubDate>
      
      <guid>http://athena-book.dns.qihoo.net/en/technology/centos/rpmbuild/</guid>
      <description>准备 sudo yum install rpm-build sudo yum install rpmdevtools new project 默认的_topdir是用户的&amp;lt;home&amp;gt;/rpmbuild目录，所以一般到用户的home目录下创建项目。
当然通过修改_topdir也能到其它目录创建。
# 创建目录 rpmdev-setuptree # or mkdir -p ~/rpmbuild/{BUILD,RPMS,SOURCES,SPECS,SRPMS} # 生成 初始spec文件 rpmdev-newspec hello 目录结构：
rpmbuild |_ BUILD |_ BUILDROOT |_ RPMS |_ SOURCES |_ SPECS |_ SRPMS spec 文件 分段  定义段 构建段 安装段   定义  Name Version Release Summary License URL Source0 Patch0 ... 构建  %description %prep %build %install %check %files %changelog 安装  %pre %post %preun %postun Macros 宏定义</description>
    </item>
    
    <item>
      <title>Kickstart</title>
      <link>http://athena-book.dns.qihoo.net/en/technology/centos/kickstart/</link>
      <pubDate>Mon, 01 Mar 2021 15:08:45 +0800</pubDate>
      
      <guid>http://athena-book.dns.qihoo.net/en/technology/centos/kickstart/</guid>
      <description>是什么？ 使用kickstart,系统管理员可以创建一个文件,这个文件包含了在典型的安装过程中所遇到的问题
控制安装系统的流程和配置
怎么使用？ 详细参考官方文档 centos7 使用说明 kickstart文件的格式
1. 命令段：指明各种安装前配置，如键盘类型等 2. 程序包段：指明要安装的程序包组或程序包，不安装的程序包等 3. 脚本段： + %pre: 安装前脚本 运行环境：运行于安装介质上的微型Linux环境 + %post: 安装后脚本 运行环境：安装完成的系统 命令段中的命令  必备   auth # 认证 bootloader # bootloader位置及配置 keyboard lang part # 分区创建 rootpw # route密码 timezone   可选   install 或 upgrade # 新安装或者更新 text/graphical # 文本安装或者界面安装 network # 网卡设置 firewall # 防火墙配置 selinux poweroff reboot repo user # 为系统创建用户 url # 安装源 key -skip # 跳过安装号  程序段 %packages package #要安装的包 @development #要安装的包组 -byacc #不安装的包 %end 脚本段 安装前脚本</description>
    </item>
    
    <item>
      <title>自定义centos镜像</title>
      <link>http://athena-book.dns.qihoo.net/en/technology/centos/custom-centos-iso/</link>
      <pubDate>Mon, 01 Mar 2021 15:07:50 +0800</pubDate>
      
      <guid>http://athena-book.dns.qihoo.net/en/technology/centos/custom-centos-iso/</guid>
      <description>1、下载iso 略
2、 挂载 mkdir -p centos-7 mkdir -p unpack sudo mount &amp;lt;centos iso&amp;gt; centos-7 rsync -Paz centos-7 unpack sudo umount centos-7 3、定制 iso文件都在 unpack文件夹移步进去操作
引导文件： isolinux/isolinux.cfg
添加引导，使用自定义kickstart文件
label 360dns system menu label Install CentOS 7 on S^ystem 360 kernel vmlinuz append initrd=initrd.img inst.stage2=hd:LABEL=AE-CentOS-7 quiet inst.ks=cdrom:/dev/cdrom:/360dns.cfg 定制图标和文字 东西都在 squashfs.img 系统文件里面，需要解压进去 这个liveos是我们安装中使用的系统，将用这个liveos安装实际系统。
# 安装依赖 yum -y install squashfs-tools # pwd: unpacked/LiveOS/ unsquashfs squashfs.img # 解压后生成 cd squashfs-root/LiveOS/ mkdir tmp sudo mount rootfs.</description>
    </item>
    
  </channel>
</rss>
