<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>云原生 on athena</title>
    <link>http://athena-book.dns.qihoo.net/en/technology/cncf/</link>
    <description>Recent content in 云原生 on athena</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Wed, 24 Feb 2021 12:03:44 +0800</lastBuildDate><atom:link href="http://athena-book.dns.qihoo.net/en/technology/cncf/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>项目列表</title>
      <link>http://athena-book.dns.qihoo.net/en/technology/cncf/project-list/</link>
      <pubDate>Wed, 24 Feb 2021 12:04:13 +0800</pubDate>
      
      <guid>http://athena-book.dns.qihoo.net/en/technology/cncf/project-list/</guid>
      <description>一、Graduated 毕业项目
1、containerd 项目地址 CNI插件
2、CoreDNS 项目地址 域名解析
3、Envoy 项目地址 网络流量代理，c++实现，高性能 L7 层代理 支持 L3/4 protocol istio依赖envoy代理
4、 etcd 项目地址 k/v 存储
5、Fluentd 项目地址 Fluentd is an open source data collector, which lets you unify the data collection and consumption for a better use and understanding of data
Unified Logging with JSON 基于json的统一日志框架，支持超过125个系统的log信息收集 底层是C和CRuby编写
支持多源日志数据收集，多端日志存储es,kafka,s3,prometheus等
比较： 比logstash 更快，但低于filebeat 插件数量与logstash相当，比filebeat丰富 插件基于lua编写，快速实现，但性能可能不如意 fluentd-bit更快的日志收集，但是插件数量少
6、Harbor 项目地址 镜像仓库
7、Helm 项目地址 安装包管理
8、Jaeger 项目地址 end-to-end distributed tracing Monitor and troubleshoot transactions in complex distributed systems 端到端的分布式追踪系统 复杂系统的监控和和事务处理</description>
    </item>
    
    <item>
      <title>使用</title>
      <link>http://athena-book.dns.qihoo.net/en/technology/cncf/usage/</link>
      <pubDate>Thu, 25 Feb 2021 12:02:55 +0800</pubDate>
      
      <guid>http://athena-book.dns.qihoo.net/en/technology/cncf/usage/</guid>
      <description>Lorem Ipsum.</description>
    </item>
    
    <item>
      <title>Metallb</title>
      <link>http://athena-book.dns.qihoo.net/en/technology/cncf/metallb/</link>
      <pubDate>Mon, 29 Mar 2021 12:07:33 +0800</pubDate>
      
      <guid>http://athena-book.dns.qihoo.net/en/technology/cncf/metallb/</guid>
      <description>基本信息 https://metallb.universe.tf/concepts/
MetalLB hooks into your Kubernetes cluster, and provides a network load-balancer implementation.
安装 1、ipvs模式配置修改：
kubectl edit configmap -n kube-system kube-proxy apiVersion: kubeproxy.config.k8s.io/v1alpha1 kind: KubeProxyConfiguration mode: &amp;#34;ipvs&amp;#34; ipvs: strictARP: true 2、安装
需要文件：
 namespace.yaml metallb.yaml secret.yaml  其中namespace.yaml 和 metallb.yaml可以在github上找到
https://github.com/metallb/metallb/tree/main/manifests
secret.yaml需要自己创建
kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.9.6/manifests/namespace.yaml kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.9.6/manifests/metallb.yaml # On first install only kubectl create secret generic -n metallb-system memberlist --from-literal=secretkey=&amp;#34;$(openssl rand -base64 128)&amp;#34; 注意：
calico 和 matallb中的speaker冲突，修改文件</description>
    </item>
    
    <item>
      <title>Calico bgp</title>
      <link>http://athena-book.dns.qihoo.net/en/technology/cncf/calico-bgp/</link>
      <pubDate>Sun, 28 Mar 2021 21:03:47 +0800</pubDate>
      
      <guid>http://athena-book.dns.qihoo.net/en/technology/cncf/calico-bgp/</guid>
      <description>global peer 全局peer将所有的node对接到外部的bgp infra路由，需要infra支持
apiVersion: projectcalico.org/v3 kind: BGPPeer metadata: name: my-global-peer spec: peerIP: 192.20.30.40 asNumber: 64567 Configure a node to act as a route reflector 选择node作为路由反射，将减少集群的路由量，有少量的节点反射其它节点的路由信息；
add cluster id to node
calicoctl patch node my-node -p &amp;#39;{&amp;#34;spec&amp;#34;: {&amp;#34;bgp&amp;#34;: {&amp;#34;routeReflectorClusterID&amp;#34;: &amp;#34;244.0.0.1&amp;#34;}}}&amp;#39; add label to node
kubectl label node my-node route-reflector=true config peer: 所有节点连接 reflector节点
kind: BGPPeer apiVersion: projectcalico.org/v3 metadata: name: peer-with-route-reflectors spec: nodeSelector: all() peerSelector: route-reflector == &amp;#39;true&amp;#39; globel as change calicoctl patch bgpconfiguration default -p &amp;#39;{&amp;#34;spec&amp;#34;: {&amp;#34;asNumber&amp;#34;: &amp;#34;64513&amp;#34;}}&amp;#39; node as change calicoctl patch node node-1 -p &amp;#39;{&amp;#34;spec&amp;#34;: {&amp;#34;bgp&amp;#34;: {&amp;#34;asNumber&amp;#34;: &amp;#34;64514&amp;#34;}}}&amp;#39; Advertise Kubernetes service IP addresses Advertise service cluster IP addresses 外部ip:</description>
    </item>
    
  </channel>
</rss>
